{"name":"ABC-UCDAssembly","description":"The UCADF application assembly.","teamMappings":[],"processes":[{"name":"Create UrbanCode Snapshot of Environment","description":"Create an UrbanCode snapshot with the versions currently in the selected environment.","rootActivity":{"edges":[{"to":"d4cca76f0ba398769ff91e2e39c307","from":"a66e33ca139a0b86d7574dadfc412b","type":"SUCCESS","value":""},{"to":"a66e33ca139a0b86d7574dadfc412b","type":"ALWAYS","value":""}],"offsets":[{"name":"d4cca76f0ba398769ff91e2e39c307","x":-5,"y":460,"h":80,"w":120},{"name":"a66e33ca139a0b86d7574dadfc412b","x":-155,"y":230,"h":80,"w":380}],"layoutMode":"auto","type":"graph","name":"56e8d534-be38-431d-bc3b-05a8a6db755a","children":[{"type":"finish","name":"d4cca76f0ba398769ff91e2e39c307","children":[]},{"componentName":"ABC Management","properties":[{"name":"maxIteration","value":"-1"},{"name":"runOnlyOnFirst","value":"true"},{"name":"failFast","value":"false"}],"type":"componentEnvironmentIterator","name":"a66e33ca139a0b86d7574dadfc412b","children":[{"componentProcessName":"Create UrbanCode Snapshot","componentName":"ABC Management","allowFailure":false,"properties":{"abcSnapshotName":"${p:abcSnapshotName}","abcVersionsFrom":"Environment"},"type":"componentProcess","name":"Create UrbanCode Snapshot of Environment","children":[]}]}]},"propDefs":[{"id":null,"name":"abcSnapshotName","description":"The snapshot name to create.","label":"Snapshot Name","type":"TEXT","pattern":"","required":true,"placeholder":"","value":"","inherited":null,"index":null}],"inventoryManagementType":"AUTOMATIC","offlineAgentHandling":"PRE_EXECUTION_CHECK","requiredRoleName":null,"versionPresets":[]},{"name":"Deploy","description":"Deploys to the selected environment.","rootActivity":{"edges":[{"to":"b80b378da66ec2a31b10745fa4c07e","type":"ALWAYS","value":""},{"to":"241f2f8ac7baa16e9a04c5bf7ae8f9","from":"e745758e11cd564d35a0b8270cb954","type":"SUCCESS","value":""},{"to":"702a9908689c1d148d41eff8717501","from":"241f2f8ac7baa16e9a04c5bf7ae8f9","type":"SUCCESS","value":""},{"to":"79f929f8c495df95db4e608a74cfea","from":"241f2f8ac7baa16e9a04c5bf7ae8f9","type":"FAILURE","value":""},{"to":"e745758e11cd564d35a0b8270cb954","from":"8dc1cb5c1810a66e7958fae50a4aa8","type":"SUCCESS","value":""},{"to":"f5f876e7a36168e349a8fffca1aa12","from":"702a9908689c1d148d41eff8717501","type":"ALWAYS","value":""},{"to":"4a0ec24500d16000d87809fc970e50","from":"b80b378da66ec2a31b10745fa4c07e","type":"SUCCESS","value":""},{"to":"702a9908689c1d148d41eff8717501","from":"79f929f8c495df95db4e608a74cfea","type":"ALWAYS","value":""},{"to":"a3287947cafc372c5a1b68a3d7eb67","from":"4a0ec24500d16000d87809fc970e50","type":"SUCCESS","value":""},{"to":"8dc1cb5c1810a66e7958fae50a4aa8","from":"a3287947cafc372c5a1b68a3d7eb67","type":"SUCCESS","value":""},{"to":"79f929f8c495df95db4e608a74cfea","from":"a3287947cafc372c5a1b68a3d7eb67","type":"FAILURE","value":""},{"to":"79f929f8c495df95db4e608a74cfea","from":"8dc1cb5c1810a66e7958fae50a4aa8","type":"FAILURE","value":""},{"to":"4cf4f1a2c0db9e8b9e5bf717be2eb5","from":"f5f876e7a36168e349a8fffca1aa12","type":"ALWAYS","value":""},{"to":"79f929f8c495df95db4e608a74cfea","from":"e745758e11cd564d35a0b8270cb954","type":"FAILURE","value":""}],"offsets":[{"name":"241f2f8ac7baa16e9a04c5bf7ae8f9","x":-309.02501503228797,"y":1170,"h":160,"w":700},{"name":"b80b378da66ec2a31b10745fa4c07e","x":-150,"y":160,"h":120,"w":460},{"name":"4a0ec24500d16000d87809fc970e50","x":-228.4687897580191,"y":330,"h":160,"w":620},{"name":"f5f876e7a36168e349a8fffca1aa12","x":-235.42286589648552,"y":1720,"h":120,"w":460},{"name":"79f929f8c495df95db4e608a74cfea","x":-315.3208589829053,"y":1380,"h":80,"w":390},{"name":"4cf4f1a2c0db9e8b9e5bf717be2eb5","x":-95.42286589648552,"y":1890,"h":110,"w":180},{"name":"8dc1cb5c1810a66e7958fae50a4aa8","x":-445.69168169895465,"y":750,"h":160,"w":690},{"name":"702a9908689c1d148d41eff8717501","x":-336.6218624396954,"y":1510,"h":160,"w":660},{"name":"a3287947cafc372c5a1b68a3d7eb67","x":-260.4063692740574,"y":540,"h":160,"w":690},{"name":"e745758e11cd564d35a0b8270cb954","x":-324.02501503228797,"y":960,"h":160,"w":700}],"layoutMode":"auto","type":"graph","name":"d7c3cf61-3ebb-41a1-9084-b032adf994e1","children":[{"type":"finish","name":"4cf4f1a2c0db9e8b9e5bf717be2eb5","children":[]},{"name":"e745758e11cd564d35a0b8270cb954","componentTag":{"objectType":"Component","name":"ABC-Order-1","description":"","color":"#F389AF"},"properties":[{"name":"activity.componentProcess.name","value":"Activate Component Version"},{"name":"maxCompIteration","value":"100"},{"name":"maxIteration","value":"-1"},{"name":"runOnlyOnFirst","value":"false"},{"name":"failFast","value":"false"}],"type":"multiComponentEnvironmentIterator","children":[{"properties":[{"name":"runOnlyOnFirst","value":"false"},{"name":"failFast","value":"false"}],"type":"componentEnvironmentIterator","name":"89dada88fc50f548c9925416d65faa","children":[{"status":"Active","type":"inventoryVersionDiff","name":"63183aa1-c483-4c30-969c-16a8bf66e2cf","children":[{"componentProcessName":"Activate Component Version","allowFailure":false,"properties":{"activity.componentProcess.name":"Activate Component Version"},"type":"componentProcess","name":"Activate Component Versions-1","children":[]}]}]}]},{"status":"FAILURE","type":"setStatus","name":"79f929f8c495df95db4e608a74cfea","children":[]},{"lockName":"${p:application.name}-${p:environment.name}","type":"acquireLock","name":"b80b378da66ec2a31b10745fa4c07e","children":[]},{"lockName":"${p:application.name}-${p:environment.name}","type":"releaseLock","name":"f5f876e7a36168e349a8fffca1aa12","children":[]},{"name":"241f2f8ac7baa16e9a04c5bf7ae8f9","componentTag":{"objectType":"Component","name":"ABC-Order-2","description":"","color":"#EE3D96"},"properties":[{"name":"activity.componentProcess.name","value":"Activate Component Version"},{"name":"maxCompIteration","value":"100"},{"name":"maxIteration","value":"-1"},{"name":"runOnlyOnFirst","value":"false"},{"name":"failFast","value":"false"}],"type":"multiComponentEnvironmentIterator","children":[{"properties":[{"name":"runOnlyOnFirst","value":"false"},{"name":"failFast","value":"false"}],"type":"componentEnvironmentIterator","name":"af6884238cf9c507b858d05cdfa652","children":[{"status":"Active","type":"inventoryVersionDiff","name":"b892dc32-ee60-46c8-ba96-1dece7a5977f","children":[{"componentProcessName":"Activate Component Version","allowFailure":false,"properties":{"activity.componentProcess.name":"Activate Component Version"},"type":"componentProcess","name":"Activate Component Versions-2","children":[]}]}]}]},{"componentName":"ABC Management","properties":[{"name":"maxIteration","value":"-1"},{"name":"runOnlyOnFirst","value":"true"},{"name":"failFast","value":"false"}],"type":"componentEnvironmentIterator","name":"4a0ec24500d16000d87809fc970e50","children":[{"componentProcessName":"Validate Deploy","componentName":"ABC Management","allowFailure":false,"properties":{"abcIsControlledEnvTypeProcess":"true"},"type":"componentProcess","name":"Validate Deploy","children":[]}]},{"name":"a3287947cafc372c5a1b68a3d7eb67","componentTag":{"objectType":"Component","name":"ABC-Order-1","description":"","color":"#F389AF"},"properties":[{"name":"activity.componentProcess.name","value":"Deploy Component Version"},{"name":"maxCompIteration","value":"100"},{"name":"maxIteration","value":"-1"},{"name":"runOnlyOnFirst","value":"false"},{"name":"failFast","value":"false"}],"type":"multiComponentEnvironmentIterator","children":[{"properties":[{"name":"runOnlyOnFirst","value":"false"},{"name":"failFast","value":"false"}],"type":"componentEnvironmentIterator","name":"4761a41178c282c1bd8b0f6514f290","children":[{"status":"Active","type":"inventoryVersionDiff","name":"aa987644-a11e-4628-bf09-09c17aea6013","children":[{"componentProcessName":"Deploy Component Version","allowFailure":false,"properties":{"activity.componentProcess.name":"Deploy Component Version"},"type":"componentProcess","name":"Deploy Component Versions-1","children":[]}]}]}]},{"name":"8dc1cb5c1810a66e7958fae50a4aa8","componentTag":{"objectType":"Component","name":"ABC-Order-2","description":"","color":"#EE3D96"},"properties":[{"name":"activity.componentProcess.name","value":"Deploy Component Version"},{"name":"maxCompIteration","value":"100"},{"name":"maxIteration","value":"-1"},{"name":"runOnlyOnFirst","value":"false"},{"name":"failFast","value":"false"}],"type":"multiComponentEnvironmentIterator","children":[{"properties":[{"name":"runOnlyOnFirst","value":"false"},{"name":"failFast","value":"false"}],"type":"componentEnvironmentIterator","name":"8911a041408b0b1118bbf3066d8ff4","children":[{"status":"Active","type":"inventoryVersionDiff","name":"4b70de96-63e2-4b13-8cce-e2fadfb7b55a","children":[{"componentProcessName":"Deploy Component Version","allowFailure":false,"properties":{"activity.componentProcess.name":"Deploy Component Version"},"type":"componentProcess","name":"Deploy Component Versions-2","children":[]}]}]}]},{"componentName":"ABC Management","properties":[{"name":"maxIteration","value":"-1"},{"name":"runOnlyOnFirst","value":"false"},{"name":"failFast","value":"false"}],"type":"componentEnvironmentIterator","name":"702a9908689c1d148d41eff8717501","children":[{"componentProcessName":"Clean Temporary Artifacts","componentName":"ABC Management","allowFailure":false,"properties":{},"type":"componentProcess","name":"Clean Temporary Artifacts","children":[]}]}]},"propDefs":[{"id":null,"name":"abcChangeRecord","description":"Required for controlled environment.","label":"Change Record","type":"TEXT","pattern":"","required":false,"placeholder":"","value":"","inherited":null,"index":null}],"inventoryManagementType":"AUTOMATIC","offlineAgentHandling":"PRE_EXECUTION_CHECK","requiredRoleName":null,"versionPresets":[]},{"name":"Create UrbanCode Snapshot with Selected Versions","description":"Initiated from any environment to create an UrbanCode snapshot composed of the selected component versions.","rootActivity":{"edges":[{"to":"a66e33ca139a0b86d7574dadfc412b","from":"49ff05287009c3f1fe5666e599a193","type":"SUCCESS","value":""},{"to":"49ff05287009c3f1fe5666e599a193","type":"ALWAYS","value":""},{"to":"d4cca76f0ba398769ff91e2e39c307","from":"a66e33ca139a0b86d7574dadfc412b","type":"SUCCESS","value":""}],"offsets":[{"name":"49ff05287009c3f1fe5666e599a193","x":-140,"y":190,"h":100,"w":400},{"name":"a66e33ca139a0b86d7574dadfc412b","x":-200,"y":390,"h":100,"w":520},{"name":"d4cca76f0ba398769ff91e2e39c307","x":-5,"y":590,"h":90,"w":130}],"layoutMode":"auto","type":"graph","name":"b3ef007e-4d09-4561-81a6-abe9ac9af81a","children":[{"type":"finish","name":"d4cca76f0ba398769ff91e2e39c307","children":[]},{"componentName":"ABC Management","properties":[{"name":"maxIteration","value":"-1"},{"name":"runOnlyOnFirst","value":"true"},{"name":"failFast","value":"false"}],"type":"componentEnvironmentIterator","name":"a66e33ca139a0b86d7574dadfc412b","children":[{"componentProcessName":"Create UrbanCode Snapshot","componentName":"ABC Management","allowFailure":false,"properties":{"abcSnapshotName":"${p:abcSnapshotName}","abcVersionsFrom":"Specified"},"type":"componentProcess","name":"Create UrbanCode Snapshot with Selected Versions","children":[]}]},{"name":"49ff05287009c3f1fe5666e599a193","componentTag":{"objectType":"Component","name":"ABC-Deployable","description":"","color":"#7F1C7D"},"properties":[{"name":"activity.componentProcess.name","value":"Determine Selected Version"},{"name":"maxCompIteration","value":"100"},{"name":"maxIteration","value":"-1"},{"name":"runOnlyOnFirst","value":"false"},{"name":"failFast","value":"false"}],"type":"multiComponentEnvironmentIterator","children":[{"properties":[{"name":"runOnlyOnFirst","value":"false"},{"name":"failFast","value":"false"}],"type":"componentEnvironmentIterator","name":"3cfedffa142ed5a3e845057ef39272","children":[{"status":"Active","type":"inventoryVersionDiff","name":"341a4688-14fd-4f1f-9c43-9f37002e3754","children":[{"componentProcessName":"Determine Selected Version","allowFailure":false,"properties":{"activity.componentProcess.name":"Determine Selected Version"},"type":"componentProcess","name":"Determine Selected Versions","children":[]}]}]}]}]},"propDefs":[{"id":null,"name":"abcSnapshotName","description":"The snapshot name to create.","label":"Snapshot Name","type":"TEXT","pattern":"","required":true,"placeholder":"","value":"","inherited":null,"index":null}],"inventoryManagementType":"AUTOMATIC","offlineAgentHandling":"PRE_EXECUTION_CHECK","requiredRoleName":null,"versionPresets":[]},{"name":"Create Application Component","description":"Create an application component.","rootActivity":{"edges":[{"to":"045ec421235887fd780187f974ad14","type":"ALWAYS","value":""},{"to":"3e0bafec29b747a0143917d0bfe1da","from":"045ec421235887fd780187f974ad14","type":"SUCCESS","value":""}],"offsets":[{"name":"045ec421235887fd780187f974ad14","x":-150,"y":240,"h":100,"w":420},{"name":"3e0bafec29b747a0143917d0bfe1da","x":-5,"y":490,"h":90,"w":130}],"layoutMode":"auto","type":"graph","name":"8ba9c352-6712-4bbf-995e-c7df8ebb88e3","children":[{"type":"finish","name":"3e0bafec29b747a0143917d0bfe1da","children":[]},{"componentName":"ABC Management","properties":[{"name":"maxIteration","value":"-1"},{"name":"runOnlyOnFirst","value":"true"},{"name":"failFast","value":"false"}],"type":"componentEnvironmentIterator","name":"045ec421235887fd780187f974ad14","children":[{"componentProcessName":"Create Application Component","componentName":"ABC Management","allowFailure":false,"properties":{},"type":"componentProcess","name":"Create Application Component","children":[]}]}]},"propDefs":[{"id":null,"name":"abcCompName","description":"Will be automatically prefixed with the application name.","label":"Component Name","type":"TEXT","pattern":"","required":true,"placeholder":"","value":"","inherited":null,"index":null},{"id":null,"name":"abcCompDesc","description":"","label":"Component Description","type":"TEXT","pattern":"","required":false,"placeholder":"","value":"","inherited":null,"index":null},{"id":null,"name":"abcCompOrder","description":"","label":"Deployment Order","type":"SELECT","pattern":"","required":true,"placeholder":"","value":"1","inherited":null,"index":null,"allowedValues":[{"label":"1","value":"1"},{"label":"2","value":"2"}]}],"inventoryManagementType":"AUTOMATIC","offlineAgentHandling":"PRE_EXECUTION_CHECK","requiredRoleName":"ABC Application Manager","versionPresets":[]},{"name":"Delete ALL of an Application's Component Information from UrbanCode","description":"Delete an application component.","rootActivity":{"edges":[{"to":"da916918887f9b2eba6bcd2b20d65f","from":"71bed358048c065775b1f1f33c72af","type":"SUCCESS","value":""},{"to":"71bed358048c065775b1f1f33c72af","type":"ALWAYS","value":""}],"offsets":[{"name":"71bed358048c065775b1f1f33c72af","x":-120,"y":230,"h":80,"w":350},{"name":"da916918887f9b2eba6bcd2b20d65f","x":-5,"y":460,"h":80,"w":120}],"layoutMode":"auto","type":"graph","name":"200a614a-d715-447c-9af8-59c47cc3eac4","children":[{"type":"finish","name":"da916918887f9b2eba6bcd2b20d65f","children":[]},{"componentName":"ABC Management","properties":[{"name":"maxIteration","value":"-1"},{"name":"runOnlyOnFirst","value":"true"},{"name":"failFast","value":"false"}],"type":"componentEnvironmentIterator","name":"71bed358048c065775b1f1f33c72af","children":[{"componentProcessName":"Delete Application Component","componentName":"ABC Management","allowFailure":false,"properties":{},"type":"componentProcess","name":"Delete Application Component","children":[]}]}]},"propDefs":[{"id":null,"name":"abcCompName","description":"\t Will be automatically prefixed with the application name.","label":"Component Name","type":"TEXT","pattern":"","required":true,"placeholder":"","value":"","inherited":null,"index":null},{"id":null,"name":"abcConfirm","description":"","label":"!!! I UNDERSTAND THIS WILL DELETE ALL OF THE APPLICATION'S COMPONENT'S INFORMATION FROM URBANCODE (enter YES) !!!","type":"TEXT","pattern":"^YES$","required":true,"placeholder":"","value":"","inherited":null,"index":null}],"inventoryManagementType":"AUTOMATIC","offlineAgentHandling":"PRE_EXECUTION_CHECK","requiredRoleName":"ABC Application Manager","versionPresets":[]}],"components":[{"name":"ABC Management","description":null,"teamMappings":[{"teamId":"1726514c-f44a-97fc-5f2f-2aa9d7f8c931","teamLabel":"ABC","resourceTypeId":"20000000000000000000000000000101","resourceTypeName":"Component","resourceRoleId":null,"resourceRoleLabel":null}],"processes":[{"name":"Add Application to Instance","description":"Add application resources to a instance.","rootActivity":{"edges":[{"to":"cc27537638eeac3aebe4fde5be2bf8","from":"3d16157e1c82c7a1df9c7ecad9dadb","type":"SUCCESS","value":""},{"to":"Initialize","type":"ALWAYS","value":""},{"to":"17b4757970fc04c338a26223beb9d5","from":"Initialize","type":"SUCCESS","value":""},{"to":"Run UCADF Actions","from":"17b4757970fc04c338a26223beb9d5","type":"SUCCESS","value":""},{"to":"3d16157e1c82c7a1df9c7ecad9dadb","from":"Run UCADF Actions","type":"SUCCESS","value":""}],"offsets":[{"name":"3d16157e1c82c7a1df9c7ecad9dadb","x":-35,"y":490,"h":70,"w":180},{"name":"17b4757970fc04c338a26223beb9d5","x":-35,"y":250,"h":70,"w":180},{"name":"Initialize","x":-75,"y":130,"h":70,"w":260},{"name":"Run UCADF Actions","x":-80,"y":370,"h":70,"w":270},{"name":"cc27537638eeac3aebe4fde5be2bf8","x":-5,"y":610,"h":80,"w":120}],"layoutMode":"auto","type":"graph","name":"102bbf5f-777b-43da-ba29-cd6e0361dba2","children":[{"type":"finish","name":"cc27537638eeac3aebe4fde5be2bf8","children":[]},{"lockName":"Manage ABC","type":"acquireLock","name":"17b4757970fc04c338a26223beb9d5","children":[]},{"lockName":"Manage ABC","type":"releaseLock","name":"3d16157e1c82c7a1df9c7ecad9dadb","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":10,"commandName":"Run Groovy Script","pluginName":"Groovy","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"groovyHome":"${GROOVY_HOME}","scriptBody":"if (!\"${p?:abcTeamType}\" || \"${p?:abcTeamType}\" != \"SuiteTeam\") {\n\tprintln \"This process must be run on a SuiteTeam environment.\"\n\tSystem.exit(1)\n}\n"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Initialize","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n      envType: \"${p:abcEnvType}\"\n      providerName: \"${u:abcProviderName}\"\n      suiteName: \"${u:abcSuiteName}\"\n      instanceName: \"${u:abcInstanceName}\"\n      application: \"${p:abcAppName}\"\n    fileName: \"AbcAddAppToInstance.yml\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Run UCADF Actions","children":[]}]},"propDefs":[{"id":null,"name":"abcEnvType","description":"","label":"abcEnvType","type":"TEXT","pattern":"","required":false,"placeholder":"","value":"","inherited":null,"index":null},{"id":null,"name":"abcProviderName","description":"","label":"abcProviderName","type":"TEXT","pattern":"","required":false,"placeholder":"","value":"","inherited":null,"index":null},{"id":null,"name":"abcInstanceName","description":"","label":"abcInstanceName","type":"TEXT","pattern":"","required":false,"placeholder":"","value":"","inherited":null,"index":null}],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267807-804d-8fd7-d6a8-ca0074c42b43","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Add Suite to Provider","description":"Add an suite to a provider in UrbanCode.","rootActivity":{"edges":[{"to":"17b4757970fc04c338a26223beb9d5","from":"Initialize","type":"SUCCESS","value":""},{"to":"cc27537638eeac3aebe4fde5be2bf8","from":"3d16157e1c82c7a1df9c7ecad9dadb","type":"SUCCESS","value":""},{"to":"3d16157e1c82c7a1df9c7ecad9dadb","from":"Add Suite to Provider","type":"SUCCESS","value":""},{"to":"Add Suite to Provider","from":"17b4757970fc04c338a26223beb9d5","type":"SUCCESS","value":""},{"to":"Initialize","type":"ALWAYS","value":""}],"offsets":[{"name":"Add Suite to Provider","x":-135,"y":440,"h":100,"w":410},{"name":"3d16157e1c82c7a1df9c7ecad9dadb","x":-60,"y":590,"h":100,"w":260},{"name":"Initialize","x":-125,"y":140,"h":100,"w":390},{"name":"17b4757970fc04c338a26223beb9d5","x":-55,"y":290,"h":100,"w":250},{"name":"cc27537638eeac3aebe4fde5be2bf8","x":-5,"y":740,"h":90,"w":150}],"layoutMode":"auto","type":"graph","name":"5ed7245d-f894-4242-b6d4-4714fe470bea","children":[{"type":"finish","name":"cc27537638eeac3aebe4fde5be2bf8","children":[]},{"lockName":"Manage ABC","type":"acquireLock","name":"17b4757970fc04c338a26223beb9d5","children":[]},{"lockName":"Manage ABC","type":"releaseLock","name":"3d16157e1c82c7a1df9c7ecad9dadb","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":10,"commandName":"Run Groovy Script","pluginName":"Groovy","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"groovyHome":"${GROOVY_HOME}","scriptBody":"if (!\"${p?:abcTeamType}\" || \"${p?:abcTeamType}\" != \"SuiteTeam\") {\n\tprintln \"This process must be run on a SuiteTeam environment.\"\n\tSystem.exit(1)\n}\n"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Initialize","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n      envType: \"${p:abcEnvType}\"\n      providerName: \"${p:abcProviderName}\"\n      suiteName: \"${p:abcSuiteName}\"\n    fileName: \"AbcAddSuiteToProvider.yml\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Add Suite to Provider","children":[]}]},"propDefs":[{"id":null,"name":"abcEnvType","description":"","label":"abcEnvType","type":"TEXT","pattern":"","required":false,"placeholder":"","value":"","inherited":null,"index":null}],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267807-8997-24a6-2106-ccf298063387","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Change Team Members","description":"Change the members of a team.","rootActivity":{"edges":[{"to":"Change Team Members","from":"525d54ac43732bfc6e11eb3360d8e5","type":"SUCCESS","value":""},{"to":"94c3c3961c79fa4bad3e429f750f78","from":"Change Team Members","type":"SUCCESS","value":""},{"to":"Initialize","type":"ALWAYS","value":""},{"to":"7fe13278df895171830f4f9f5e375d","from":"94c3c3961c79fa4bad3e429f750f78","type":"SUCCESS","value":""},{"to":"525d54ac43732bfc6e11eb3360d8e5","from":"Initialize","type":"SUCCESS","value":""}],"offsets":[{"name":"525d54ac43732bfc6e11eb3360d8e5","x":-50,"y":280,"h":90,"w":230},{"name":"7fe13278df895171830f4f9f5e375d","x":-5,"y":700,"h":90,"w":140},{"name":"94c3c3961c79fa4bad3e429f750f78","x":-50,"y":560,"h":90,"w":230},{"name":"Initialize","x":-110,"y":140,"h":90,"w":350},{"name":"Change Team Members","x":-120,"y":420,"h":90,"w":370}],"layoutMode":"auto","type":"graph","name":"325e3166-1fdf-48d3-831d-31101f12c5af","children":[{"type":"finish","name":"7fe13278df895171830f4f9f5e375d","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":10,"commandName":"Run Groovy Script","pluginName":"Groovy","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"groovyHome":"${GROOVY_HOME}","scriptBody":"if (!\"${p?:abcTeamType}\" || \"${p?:abcTeamType\" != \"{p:abcChangeTeamType}\") {\n\tprintln \"This process must be run on a ${p:abcChangeTeamType} environment.\"\n\tSystem.exit(1)\n}\n\n// This initializion code is needed to convert the infromation from the UI form to a format that is usable by the action YEAML parser.\nString teamName = \"${p:abcTeamName}\"\nString roleNames = \"${p:abcRoleNames}\"\nString addTeamGroups = \"\"\"${p:abcAddTeamGroups}\"\"\"\n\n// Get the team roles list by splitting (by end of line or comma) the groups string supplied from a multi-select list or a text area.\nList teamRolesList = roleNames.split(/,|\\r?\\n/).collect{ /{ team: \"$teamName\", role: \"$it\" }/}\nprintln \"teamRolesList=$teamRolesList\"\n\n// Create a string that represents a team roles JSON array.\nString teamRolesJson = \"[\" + teamRolesList.join(\",\") + \"]\"\nprintln \"teamRolesJson=$teamRolesJson\"\n\n// Set a property to the JSON string.\noutProps.put(\"teamRolesJson\", teamRolesJson)\n\n// Get the groups list by splitting (by end of line or comma) the groups string supplied from a multi-select list or a text area.\nList addGroupsList = addTeamGroups.split(/,|\\r?\\n/).collect{ '\"' + it + '\"'}\nprintln \"addGroupsList=$addGroupsList\"\n\n// Create a string that represents a groups JSON array.\nString addGroupsJson = \"[ \" + addGroupsList.join(\",\") + \" ]\"\nprintln \"addGroupsJson=$addGroupsJson\"\n\n// Set a property to the JSON string.\noutProps.put(\"addGroupsJson\", addGroupsJson)\n"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Initialize","children":[]},{"lockName":"Manage ABC","type":"acquireLock","name":"525d54ac43732bfc6e11eb3360d8e5","children":[]},{"lockName":"Manage ABC","type":"releaseLock","name":"94c3c3961c79fa4bad3e429f750f78","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  # Use pre-defined action property values that are provided with the UCADF.\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\n# Run the actions.\nactions:\n    # Some of the values are supplied by properties thathave JSON strings representing in the required format.\n  - action: UcdChangeTeamMembers\n    ucdUserId: \"\"\n    ucdUserPw: \"${p:ucAdfAdminToken}\"\n    teamRoles: ${p:Initialize/teamRolesJson}\n    addGroups: ${p:Initialize/addGroupsJson}\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Change Team Members","children":[]}]},"propDefs":[{"id":null,"name":"abcChangeTeamType","description":"","label":"abcChangeTeamType","type":"TEXT","pattern":"","required":true,"placeholder":"","value":"","inherited":null,"index":null}],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267807-92ef-d94d-9636-19631c5e85cb","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Create Application","description":"Create an UrbanCode application.","rootActivity":{"edges":[{"to":"Create Application","from":"17b4757970fc04c338a26223beb9d5","type":"SUCCESS","value":""},{"to":"Initialize","type":"ALWAYS","value":""},{"to":"3d16157e1c82c7a1df9c7ecad9dadb","from":"Create Application","type":"SUCCESS","value":""},{"to":"cc27537638eeac3aebe4fde5be2bf8","from":"3d16157e1c82c7a1df9c7ecad9dadb","type":"SUCCESS","value":""},{"to":"17b4757970fc04c338a26223beb9d5","from":"Initialize","type":"SUCCESS","value":""}],"offsets":[{"name":"cc27537638eeac3aebe4fde5be2bf8","x":-5,"y":740,"h":90,"w":150},{"name":"17b4757970fc04c338a26223beb9d5","x":-55,"y":290,"h":100,"w":250},{"name":"Create Application","x":-135,"y":440,"h":100,"w":410},{"name":"Initialize","x":-125,"y":140,"h":100,"w":390},{"name":"3d16157e1c82c7a1df9c7ecad9dadb","x":-60,"y":590,"h":100,"w":260}],"layoutMode":"auto","type":"graph","name":"ab00bcdb-6241-4993-b6e3-ad3ca2ddce78","children":[{"type":"finish","name":"cc27537638eeac3aebe4fde5be2bf8","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":10,"commandName":"Run Groovy Script","pluginName":"Groovy","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"groovyHome":"${GROOVY_HOME}","scriptBody":"if (!\"${p?:abcTeamType}\" || \"${p?:abcTeamType}\" != \"AppTeam\") {\n\tprintln \"This process must be run on an AppTeam environment.\"\n\tSystem.exit(1)\n}\n"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Initialize","children":[]},{"lockName":"Manage ABC","type":"acquireLock","name":"17b4757970fc04c338a26223beb9d5","children":[]},{"lockName":"Manage ABC","type":"releaseLock","name":"3d16157e1c82c7a1df9c7ecad9dadb","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n      application: \"${p:abcAppName}\"\n      appTeamName: \"${p:abcTeamName}\"\n      appAssembly: \"ABC-UCDAssembly\"\n    fileName: \"AbcCreateApp.yml\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Create Application","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267807-9c3d-6aee-99af-ec4470dbce40","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Create Application Component","description":"Create an application component","rootActivity":{"edges":[{"to":"Create Application Component","from":"c23aab567c657cc031d97d06856309","type":"SUCCESS","value":""},{"to":"8bca7dcc5b115132c6e8d1bfdc21e1","from":"Create Application Component","type":"SUCCESS","value":""},{"to":"c23aab567c657cc031d97d06856309","type":"ALWAYS","value":""},{"to":"cc27537638eeac3aebe4fde5be2bf8","from":"8bca7dcc5b115132c6e8d1bfdc21e1","type":"SUCCESS","value":""}],"offsets":[{"name":"cc27537638eeac3aebe4fde5be2bf8","x":-5,"y":660,"h":90,"w":140},{"name":"c23aab567c657cc031d97d06856309","x":-90,"y":165,"h":90,"w":310},{"name":"Create Application Component","x":-135,"y":330,"h":90,"w":400},{"name":"8bca7dcc5b115132c6e8d1bfdc21e1","x":-90,"y":495,"h":90,"w":310}],"layoutMode":"auto","type":"graph","name":"224606d2-769e-4ee6-9019-952845ddcd8f","children":[{"type":"finish","name":"cc27537638eeac3aebe4fde5be2bf8","children":[]},{"lockName":"${p:application.name}","type":"acquireLock","name":"c23aab567c657cc031d97d06856309","children":[]},{"lockName":"${p:application.name}","type":"releaseLock","name":"8bca7dcc5b115132c6e8d1bfdc21e1","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n      application: \"${p:application.name}\"\n      compFullName: \"${p:application.name}-${p:abcCompName}\"\n      compDesc: \"${p:abcCompDesc}\"\n      compOrder: \"${p:abcCompOrder}\"\n      compType: \"Deployable\"\n    fileName: \"AbcCreateAppComponent.yml\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Create Application Component","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267807-a588-5bca-e1aa-c1b03e34905f","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Create Application Team","description":"Create an application team","rootActivity":{"edges":[{"to":"7fe13278df895171830f4f9f5e375d","from":"b7e86cfa08f504a63ad364fbf5e136","type":"SUCCESS","value":""},{"to":"b7e86cfa08f504a63ad364fbf5e136","from":"Create Application Team","type":"SUCCESS","value":""},{"to":"0e8f51704004c9201fd74e583df7e1","type":"ALWAYS","value":""},{"to":"Create Application Team","from":"0e8f51704004c9201fd74e583df7e1","type":"SUCCESS","value":""}],"offsets":[{"name":"0e8f51704004c9201fd74e583df7e1","x":-55,"y":165,"h":100,"w":250},{"name":"Create Application Team","x":-135,"y":340,"h":100,"w":410},{"name":"b7e86cfa08f504a63ad364fbf5e136","x":-60,"y":515,"h":100,"w":260},{"name":"7fe13278df895171830f4f9f5e375d","x":-5,"y":690,"h":90,"w":150}],"layoutMode":"auto","type":"graph","name":"9fe32de3-e25d-4a23-8e4f-c27878009079","children":[{"type":"finish","name":"7fe13278df895171830f4f9f5e375d","children":[]},{"lockName":"Manage ABC","type":"acquireLock","name":"0e8f51704004c9201fd74e583df7e1","children":[]},{"lockName":"Manage ABC","type":"releaseLock","name":"b7e86cfa08f504a63ad364fbf5e136","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n      appTeamBaseName: \"${p:abcTeamName}\"\n    fileName: \"AbcCreateAppTeam.yml\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Create Application Team","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267807-aedc-0986-5ef0-3470251a1699","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Create Instance","description":"Create a instance's information in UrbanCode.","rootActivity":{"edges":[{"to":"17b4757970fc04c338a26223beb9d5","from":"Initialize","type":"SUCCESS","value":""},{"to":"cc27537638eeac3aebe4fde5be2bf8","from":"3d16157e1c82c7a1df9c7ecad9dadb","type":"SUCCESS","value":""},{"to":"Initialize","type":"ALWAYS","value":""},{"to":"3d16157e1c82c7a1df9c7ecad9dadb","from":"Create Instance","type":"SUCCESS","value":""},{"to":"Create Instance","from":"17b4757970fc04c338a26223beb9d5","type":"SUCCESS","value":""}],"offsets":[{"name":"Create Instance","x":-135,"y":440,"h":100,"w":410},{"name":"3d16157e1c82c7a1df9c7ecad9dadb","x":-60,"y":590,"h":100,"w":260},{"name":"17b4757970fc04c338a26223beb9d5","x":-55,"y":290,"h":100,"w":250},{"name":"Initialize","x":-125,"y":140,"h":100,"w":390},{"name":"cc27537638eeac3aebe4fde5be2bf8","x":-5,"y":740,"h":90,"w":150}],"layoutMode":"auto","type":"graph","name":"a703692d-c1cc-4d54-ba8a-722571801572","children":[{"type":"finish","name":"cc27537638eeac3aebe4fde5be2bf8","children":[]},{"lockName":"Manage ABC","type":"acquireLock","name":"17b4757970fc04c338a26223beb9d5","children":[]},{"lockName":"Manage ABC","type":"releaseLock","name":"3d16157e1c82c7a1df9c7ecad9dadb","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":10,"commandName":"Run Groovy Script","pluginName":"Groovy","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"groovyHome":"${GROOVY_HOME}","scriptBody":"if (!\"${p?:abcTeamType}\" || \"${p?:abcTeamType}\" != \"SuiteTeam\") {\n\tprintln \"This process must be run on a SuiteTeam environment.\"\n\tSystem.exit(1)\n}\n"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Initialize","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n      envType: \"${p:abcEnvType}\"\n      providerName: \"${p:abcProviderName}\"\n      suiteName: \"${p:abcSuiteName}\"\n      instanceName: \"${p:abcInstanceName}\"\n    fileName: \"AbcCreateInstance.yml\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Create Instance","children":[]}]},"propDefs":[{"id":null,"name":"abcEnvType","description":"","label":"abcEnvType","type":"TEXT","pattern":"","required":false,"placeholder":"","value":"","inherited":null,"index":null}],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267807-b82f-bda1-afde-13f7b94022ff","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Create Provider","description":"Create a provider's information in UrbanCode.","rootActivity":{"edges":[{"to":"3d16157e1c82c7a1df9c7ecad9dadb","from":"Create Provider","type":"SUCCESS","value":""},{"to":"cc27537638eeac3aebe4fde5be2bf8","from":"3d16157e1c82c7a1df9c7ecad9dadb","type":"SUCCESS","value":""},{"to":"Create Provider","from":"17b4757970fc04c338a26223beb9d5","type":"SUCCESS","value":""},{"to":"17b4757970fc04c338a26223beb9d5","type":"ALWAYS","value":""}],"offsets":[{"name":"cc27537638eeac3aebe4fde5be2bf8","x":-5,"y":590,"h":80,"w":120},{"name":"17b4757970fc04c338a26223beb9d5","x":-35,"y":155,"h":70,"w":180},{"name":"Create Provider","x":-80,"y":300,"h":70,"w":270},{"name":"3d16157e1c82c7a1df9c7ecad9dadb","x":-35,"y":445,"h":70,"w":180}],"layoutMode":"auto","type":"graph","name":"681d4b1c-187d-4c53-9804-f2f73d0bcc9b","children":[{"type":"finish","name":"cc27537638eeac3aebe4fde5be2bf8","children":[]},{"lockName":"Manage ABC","type":"acquireLock","name":"17b4757970fc04c338a26223beb9d5","children":[]},{"lockName":"Manage ABC","type":"releaseLock","name":"3d16157e1c82c7a1df9c7ecad9dadb","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n      envType: \"${p:abcEnvType}\"\n      providerName: \"${p:abcProviderName}\"\n    fileName: \"AbcCreateProvider.yml\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Create Provider","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267807-c17b-9471-ba5a-3beac412c638","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Create Suite","description":"Create a Suite in UrbanCode.","rootActivity":{"edges":[{"to":"17b4757970fc04c338a26223beb9d5","type":"ALWAYS","value":""},{"to":"cc27537638eeac3aebe4fde5be2bf8","from":"3d16157e1c82c7a1df9c7ecad9dadb","type":"SUCCESS","value":""},{"to":"3d16157e1c82c7a1df9c7ecad9dadb","from":"Create Suite","type":"SUCCESS","value":""},{"to":"Create Suite","from":"17b4757970fc04c338a26223beb9d5","type":"SUCCESS","value":""}],"offsets":[{"name":"3d16157e1c82c7a1df9c7ecad9dadb","x":-50,"y":495,"h":90,"w":230},{"name":"17b4757970fc04c338a26223beb9d5","x":-50,"y":165,"h":90,"w":230},{"name":"Create Suite","x":-120,"y":330,"h":90,"w":370},{"name":"cc27537638eeac3aebe4fde5be2bf8","x":-5,"y":660,"h":90,"w":140}],"layoutMode":"auto","type":"graph","name":"0fc95166-dcdc-4599-8105-6e6a9b0d735a","children":[{"type":"finish","name":"cc27537638eeac3aebe4fde5be2bf8","children":[]},{"lockName":"Manage ABC","type":"acquireLock","name":"17b4757970fc04c338a26223beb9d5","children":[]},{"lockName":"Manage ABC","type":"releaseLock","name":"3d16157e1c82c7a1df9c7ecad9dadb","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n      suiteName: \"${p:abcSuiteName}\"\n      suiteDescription: \"${p:abcSuiteDescription}\"\n    fileName: \"AbcCreateSuite.yml\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Create Suite","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267807-cac7-ad67-901e-b9cb5eca477e","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Delete Application","description":"Delete an UrbanCode application","rootActivity":{"edges":[{"to":"3d16157e1c82c7a1df9c7ecad9dadb","from":"Delete Application","type":"SUCCESS","value":""},{"to":"Delete Application","from":"17b4757970fc04c338a26223beb9d5","type":"SUCCESS","value":""},{"to":"17b4757970fc04c338a26223beb9d5","type":"ALWAYS","value":""},{"to":"cc27537638eeac3aebe4fde5be2bf8","from":"3d16157e1c82c7a1df9c7ecad9dadb","type":"SUCCESS","value":""}],"offsets":[{"name":"cc27537638eeac3aebe4fde5be2bf8","x":-5,"y":660,"h":90,"w":140},{"name":"17b4757970fc04c338a26223beb9d5","x":-50,"y":165,"h":90,"w":230},{"name":"Delete Application","x":-120,"y":330,"h":90,"w":370},{"name":"3d16157e1c82c7a1df9c7ecad9dadb","x":-50,"y":495,"h":90,"w":230}],"layoutMode":"auto","type":"graph","name":"3376181b-be3f-4090-b3cb-8ade6817d27e","children":[{"type":"finish","name":"cc27537638eeac3aebe4fde5be2bf8","children":[]},{"lockName":"Manage ABC","type":"acquireLock","name":"17b4757970fc04c338a26223beb9d5","children":[]},{"lockName":"Manage ABC","type":"releaseLock","name":"3d16157e1c82c7a1df9c7ecad9dadb","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n      application: \"${p:abcAppName}\"\n    fileName: \"AbcDeleteApp.yml\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Delete Application","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267807-d41c-db1d-4317-1a8322d259c0","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Delete Application Component","description":"Delete an application component","rootActivity":{"edges":[{"to":"Run UCADF Actions","from":"c23aab567c657cc031d97d06856309","type":"SUCCESS","value":""},{"to":"8bca7dcc5b115132c6e8d1bfdc21e1","from":"Run UCADF Actions","type":"SUCCESS","value":""},{"to":"c23aab567c657cc031d97d06856309","type":"ALWAYS","value":""},{"to":"cc27537638eeac3aebe4fde5be2bf8","from":"8bca7dcc5b115132c6e8d1bfdc21e1","type":"SUCCESS","value":""}],"offsets":[{"name":"cc27537638eeac3aebe4fde5be2bf8","x":-5,"y":660,"h":90,"w":140},{"name":"8bca7dcc5b115132c6e8d1bfdc21e1","x":-90,"y":495,"h":90,"w":310},{"name":"Run UCADF Actions","x":-120,"y":330,"h":90,"w":370},{"name":"c23aab567c657cc031d97d06856309","x":-90,"y":165,"h":90,"w":310}],"layoutMode":"auto","type":"graph","name":"014e9017-9cf7-4962-a8f1-289174c7e6b8","children":[{"type":"finish","name":"cc27537638eeac3aebe4fde5be2bf8","children":[]},{"lockName":"${p:application.name}","type":"acquireLock","name":"c23aab567c657cc031d97d06856309","children":[]},{"lockName":"${p:application.name}","type":"releaseLock","name":"8bca7dcc5b115132c6e8d1bfdc21e1","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n      application: \"${p:application.name}\"\n      compFullName: \"${p:abcCompName}\"\n    fileName: \"AbcDeleteAppComponent.yml\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Run UCADF Actions","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267807-dd66-cccb-b991-1bb3de5000d5","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Delete Application Team","description":"Delete an application team.","rootActivity":{"edges":[{"to":"d341c4db992fc4f3392481a554aed3","from":"Run UCADF Actions","type":"SUCCESS","value":""},{"to":"Initialize","type":"ALWAYS","value":""},{"to":"d87827fc889310a4d3167b62836ff3","from":"Initialize","type":"SUCCESS","value":""},{"to":"Run UCADF Actions","from":"d87827fc889310a4d3167b62836ff3","type":"SUCCESS","value":""},{"to":"7fe13278df895171830f4f9f5e375d","from":"d341c4db992fc4f3392481a554aed3","type":"SUCCESS","value":""}],"offsets":[{"name":"d341c4db992fc4f3392481a554aed3","x":-60,"y":590,"h":100,"w":260},{"name":"Run UCADF Actions","x":-135,"y":440,"h":100,"w":410},{"name":"d87827fc889310a4d3167b62836ff3","x":-55,"y":290,"h":100,"w":250},{"name":"Initialize","x":-125,"y":140,"h":100,"w":390},{"name":"7fe13278df895171830f4f9f5e375d","x":-5,"y":740,"h":90,"w":150}],"layoutMode":"auto","type":"graph","name":"ca3cfbdc-7889-4627-a587-643ce93ef1f7","children":[{"type":"finish","name":"7fe13278df895171830f4f9f5e375d","children":[]},{"lockName":"Manage ABC","type":"acquireLock","name":"d87827fc889310a4d3167b62836ff3","children":[]},{"lockName":"Manage ABC","type":"releaseLock","name":"d341c4db992fc4f3392481a554aed3","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":10,"commandName":"Run Groovy Script","pluginName":"Groovy","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"groovyHome":"${GROOVY_HOME}","scriptBody":"if (!\"${p?:abcTeamType}\" || \"${p?:abcTeamType\" != \"{p:abcDeleteTeamType}\") {\n\tprintln \"This process must be run on a ${p:abcDeleteTeamType} environment.\"\n\tSystem.exit(1)\n}\n"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Initialize","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n      appTeamBaseName: \"${p:abcSuiteName}\"\n    fileName: \"AbcDeleteAppTeam.yml\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Run UCADF Actions","children":[]}]},"propDefs":[{"id":null,"name":"abcDeleteTeamType","description":"","label":"abcDeleteTeamType","type":"TEXT","pattern":"","required":true,"placeholder":"","value":"","inherited":null,"index":null}],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267807-e6b6-9099-c02d-3b323aa3f491","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Delete Provider","description":"Delete a provider's information from UrbanCode","rootActivity":{"edges":[{"to":"cc27537638eeac3aebe4fde5be2bf8","from":"3d16157e1c82c7a1df9c7ecad9dadb","type":"SUCCESS","value":""},{"to":"17b4757970fc04c338a26223beb9d5","type":"ALWAYS","value":""},{"to":"Delete Provider","from":"17b4757970fc04c338a26223beb9d5","type":"SUCCESS","value":""},{"to":"3d16157e1c82c7a1df9c7ecad9dadb","from":"Delete Provider","type":"SUCCESS","value":""}],"offsets":[{"name":"3d16157e1c82c7a1df9c7ecad9dadb","x":-60,"y":515,"h":100,"w":260},{"name":"cc27537638eeac3aebe4fde5be2bf8","x":-5,"y":690,"h":90,"w":150},{"name":"Delete Provider","x":-135,"y":340,"h":100,"w":410},{"name":"17b4757970fc04c338a26223beb9d5","x":-55,"y":165,"h":100,"w":250}],"layoutMode":"auto","type":"graph","name":"b63b2813-322d-4d7e-abbf-555a496becb6","children":[{"type":"finish","name":"cc27537638eeac3aebe4fde5be2bf8","children":[]},{"lockName":"Manage ABC","type":"acquireLock","name":"17b4757970fc04c338a26223beb9d5","children":[]},{"lockName":"Manage ABC","type":"releaseLock","name":"3d16157e1c82c7a1df9c7ecad9dadb","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n      envType: \"${p:abcEnvType}\"\n      providerName: \"${p:abcProviderName}\"\n    fileName: \"AbcDeleteProvider.yml\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Delete Provider","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267807-f001-feae-df92-beba748aef5a","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Generate Security Report","description":"Generate a report of the team groups.","rootActivity":{"edges":[{"to":"cc27537638eeac3aebe4fde5be2bf8","from":"Generate Security Report","type":"SUCCESS","value":""},{"to":"Generate Security Report","from":"Initialize","type":"SUCCESS","value":""},{"to":"Initialize","type":"ALWAYS","value":""}],"offsets":[{"name":"cc27537638eeac3aebe4fde5be2bf8","x":-5,"y":550,"h":90,"w":130},{"name":"Initialize","x":-90,"y":190,"h":80,"w":300},{"name":"Generate Security Report","x":-100,"y":370,"h":80,"w":320}],"layoutMode":"auto","type":"graph","name":"057a87eb-45e5-4328-acc6-2c7bee759d31","children":[{"type":"finish","name":"cc27537638eeac3aebe4fde5be2bf8","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":10,"commandName":"Run Groovy Script","pluginName":"Groovy","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"groovyHome":"${GROOVY_HOME}","scriptBody":"if (!\"${p?:abcTeamType}\") {\n\tprintln \"This process must be run on an AppTeam or SuiteTeam environment.\"\n\tSystem.exit(1)\n}\n"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Initialize","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n      teamType: \"${p?:abcTeamType}\"\n      teamName: \"${p?:abcTeamName}\"\n    fileName: \"AbcGenerateSecurityReport.yml\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Generate Security Report","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267807-f956-529b-7bc8-7fb3b286dea6","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Remove Application from Instance","description":"Removes application resources from a instance.","rootActivity":{"edges":[{"to":"17b4757970fc04c338a26223beb9d5","from":"Initialize","type":"SUCCESS","value":""},{"to":"Run UCADF Actions","from":"17b4757970fc04c338a26223beb9d5","type":"SUCCESS","value":""},{"to":"Initialize","type":"ALWAYS","value":""},{"to":"3d16157e1c82c7a1df9c7ecad9dadb","from":"Run UCADF Actions","type":"SUCCESS","value":""},{"to":"cc27537638eeac3aebe4fde5be2bf8","from":"3d16157e1c82c7a1df9c7ecad9dadb","type":"SUCCESS","value":""}],"offsets":[{"name":"3d16157e1c82c7a1df9c7ecad9dadb","x":-60,"y":590,"h":100,"w":260},{"name":"17b4757970fc04c338a26223beb9d5","x":-55,"y":290,"h":100,"w":250},{"name":"Run UCADF Actions","x":-135,"y":440,"h":100,"w":410},{"name":"Initialize","x":-125,"y":140,"h":100,"w":390},{"name":"cc27537638eeac3aebe4fde5be2bf8","x":-5,"y":740,"h":90,"w":150}],"layoutMode":"auto","type":"graph","name":"5dcef0ad-a8c9-48bf-b05e-6ba82e10941b","children":[{"type":"finish","name":"cc27537638eeac3aebe4fde5be2bf8","children":[]},{"lockName":"Manage ABC","type":"acquireLock","name":"17b4757970fc04c338a26223beb9d5","children":[]},{"lockName":"Manage ABC","type":"releaseLock","name":"3d16157e1c82c7a1df9c7ecad9dadb","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":10,"commandName":"Run Groovy Script","pluginName":"Groovy","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"groovyHome":"${GROOVY_HOME}","scriptBody":"if (!\"${p?:abcTeamType}\" || \"${p?:abcTeamType}\" != \"SuiteTeam\") {\n\tprintln \"This process must be run on a SuiteTeam environment.\"\n\tSystem.exit(1)\n}\n"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Initialize","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n      envType: \"${p:abcEnvType}\"\n      providerName: \"${p:abcProviderName}\"\n      suiteName: \"${p:abcSuiteName}\"\n      instanceName: \"${p:abcInstanceName}\"\n      application: \"${p:abcAppName}\"\n    fileName: \"AbcRemoveAppFromInstance.yml\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Run UCADF Actions","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267808-02a4-1feb-9fdb-7660910d7be7","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Remove Instance from Suite","description":"Removes instance resources from an suite.","rootActivity":{"edges":[{"to":"17b4757970fc04c338a26223beb9d5","from":"Initialize","type":"SUCCESS","value":""},{"to":"cc27537638eeac3aebe4fde5be2bf8","from":"3d16157e1c82c7a1df9c7ecad9dadb","type":"SUCCESS","value":""},{"to":"3d16157e1c82c7a1df9c7ecad9dadb","from":"Remove Instance From Suite","type":"SUCCESS","value":""},{"to":"Remove Instance From Suite","from":"17b4757970fc04c338a26223beb9d5","type":"SUCCESS","value":""},{"to":"Initialize","type":"ALWAYS","value":""}],"offsets":[{"name":"Initialize","x":-125,"y":140,"h":100,"w":390},{"name":"Remove Instance From Suite","x":-150,"y":440,"h":100,"w":440},{"name":"3d16157e1c82c7a1df9c7ecad9dadb","x":-60,"y":590,"h":100,"w":260},{"name":"17b4757970fc04c338a26223beb9d5","x":-55,"y":290,"h":100,"w":250},{"name":"cc27537638eeac3aebe4fde5be2bf8","x":-5,"y":740,"h":90,"w":150}],"layoutMode":"auto","type":"graph","name":"571fa88b-9719-4e16-a07d-2724f9be7256","children":[{"type":"finish","name":"cc27537638eeac3aebe4fde5be2bf8","children":[]},{"lockName":"Manage ABC","type":"acquireLock","name":"17b4757970fc04c338a26223beb9d5","children":[]},{"lockName":"Manage ABC","type":"releaseLock","name":"3d16157e1c82c7a1df9c7ecad9dadb","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":10,"commandName":"Run Groovy Script","pluginName":"Groovy","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"groovyHome":"${GROOVY_HOME}","scriptBody":"if (!\"${p?:abcTeamType}\" || \"${p?:abcTeamType}\" != \"SuiteTeam\") {\n\tprintln \"This process must be run on a SuiteTeam environment.\"\n\tSystem.exit(1)\n}\n"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Initialize","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n      envType: \"${p:abcEnvType}\"\n      providerName: \"${p:abcProviderName}\"\n      suiteName: \"${p:abcSuiteName}\"\n      instanceName: \"${p:abcInstanceName}\"\n    fileName: \"AbcDeleteInstance.yml\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Remove Instance From Suite","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267808-0bf9-5780-f7f1-3ea1694abb86","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Remove Suite from Provider","description":"Removes suite resources from a provider.","rootActivity":{"edges":[{"to":"17b4757970fc04c338a26223beb9d5","from":"Initialize","type":"SUCCESS","value":""},{"to":"Remove Suite from Provider","from":"17b4757970fc04c338a26223beb9d5","type":"SUCCESS","value":""},{"to":"3d16157e1c82c7a1df9c7ecad9dadb","from":"Remove Suite from Provider","type":"SUCCESS","value":""},{"to":"cc27537638eeac3aebe4fde5be2bf8","from":"3d16157e1c82c7a1df9c7ecad9dadb","type":"SUCCESS","value":""},{"to":"Initialize","type":"ALWAYS","value":""}],"offsets":[{"name":"17b4757970fc04c338a26223beb9d5","x":-55,"y":290,"h":100,"w":250},{"name":"3d16157e1c82c7a1df9c7ecad9dadb","x":-60,"y":590,"h":100,"w":260},{"name":"Remove Suite from Provider","x":-145,"y":440,"h":100,"w":430},{"name":"Initialize","x":-125,"y":140,"h":100,"w":390},{"name":"cc27537638eeac3aebe4fde5be2bf8","x":-5,"y":740,"h":90,"w":150}],"layoutMode":"auto","type":"graph","name":"dcef5a18-df24-40b2-9db2-1e2ed4987870","children":[{"type":"finish","name":"cc27537638eeac3aebe4fde5be2bf8","children":[]},{"lockName":"Manage ABC","type":"acquireLock","name":"17b4757970fc04c338a26223beb9d5","children":[]},{"lockName":"Manage ABC","type":"releaseLock","name":"3d16157e1c82c7a1df9c7ecad9dadb","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":10,"commandName":"Run Groovy Script","pluginName":"Groovy","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"groovyHome":"${GROOVY_HOME}","scriptBody":"if (!\"${p?:abcTeamType}\" || \"${p?:abcTeamType}\" != \"SuiteTeam\") {\n\tprintln \"This process must be run on a SuiteTeam environment.\"\n\tSystem.exit(1)\n}\n"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Initialize","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n      envType: \"${p:abcEnvType}\"\n      providerName: \"${p:abcProviderName}\"\n      suiteName: \"${p:abcSuiteName}\"\n    fileName: \"AbcRemoveSuiteFromProvider.yml\"\n\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Remove Suite from Provider","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267808-154c-6659-5f20-0597fdf30646","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Send Team Tokens","description":"Send the team tokens to the requestor.","rootActivity":{"edges":[{"to":"d09996fa24f2fb6689d48b25054cfb","from":"Send Team Tokens","type":"SUCCESS","value":""},{"to":"Initialize","type":"ALWAYS","value":""},{"to":"Send Team Tokens","from":"Initialize","type":"SUCCESS","value":""}],"offsets":[{"name":"d09996fa24f2fb6689d48b25054cfb","x":-5,"y":550,"h":90,"w":130},{"name":"Initialize","x":-90,"y":190,"h":80,"w":300},{"name":"Send Team Tokens","x":-100,"y":370,"h":80,"w":320}],"layoutMode":"auto","type":"graph","name":"59e80944-d542-4b59-9b4c-01b07da862af","children":[{"type":"finish","name":"d09996fa24f2fb6689d48b25054cfb","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":10,"commandName":"Run Groovy Script","pluginName":"Groovy","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"groovyHome":"${GROOVY_HOME}","scriptBody":"if (!\"${p?:abcTeamType}\" || \"${p?:abcTeamType\" != \"{p:abcSendTeamType}\") {\n\tprintln \"This process must be run on a ${p:abcSendTeamType} environment.\"\n\tSystem.exit(1)\n}\n"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Initialize","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcdSendMail\n    ucdUserId: \"\"\n    ucdUserPw: \"${p:ucAdfAdminToken}\"\n    subject: \"UrbanCode Token for user [${p:abcTeamName}]\"\n    message: \"Token: ${p:abcSendAuthToken}\\n\\nThis may be used for automation.\"\n    users:\n      - \"${p:request.user.name}\"\n    emailUserPw: \"${p:ucAdfEmailUserPw}\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Send Team Tokens","children":[]}]},"propDefs":[{"id":null,"name":"abcSendTeamType","description":"","label":"abcSendTeamType","type":"TEXT","pattern":"","required":false,"placeholder":"","value":"","inherited":null,"index":null},{"id":null,"name":"abcSendAuthToken","description":"","label":"abcSendAuthToken","type":"TEXT","pattern":"","required":false,"placeholder":"","value":"","inherited":null,"index":null}],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267808-1e95-6d4f-8811-0a203839fd9d","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Synchronize Group Members","description":"Synchronize the UrbanCode group members.","rootActivity":{"edges":[{"to":"cc27537638eeac3aebe4fde5be2bf8","from":"d7075b9c534c65cd2c43e224046820","type":"SUCCESS","value":""},{"to":"d08784a93549f4e660a4561c4032a2","type":"ALWAYS","value":""},{"to":"Synchronize Group Members","from":"d08784a93549f4e660a4561c4032a2","type":"SUCCESS","value":""},{"to":"d7075b9c534c65cd2c43e224046820","from":"Synchronize Group Members","type":"SUCCESS","value":""}],"offsets":[{"name":"cc27537638eeac3aebe4fde5be2bf8","x":-5,"y":660,"h":90,"w":140},{"name":"d08784a93549f4e660a4561c4032a2","x":-50,"y":165,"h":90,"w":230},{"name":"d7075b9c534c65cd2c43e224046820","x":-50,"y":495,"h":90,"w":230},{"name":"Synchronize Group Members","x":-120,"y":330,"h":90,"w":380}],"layoutMode":"auto","type":"graph","name":"8b126400-9087-423c-b39c-029debff8fa9","children":[{"type":"finish","name":"cc27537638eeac3aebe4fde5be2bf8","children":[]},{"lockName":"Manage ABC","type":"acquireLock","name":"d08784a93549f4e660a4561c4032a2","children":[]},{"lockName":"Manage ABC","type":"releaseLock","name":"d7075b9c534c65cd2c43e224046820","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcdSyncGroupMembers\n    ucdUserId: \"\"\n    ucdUserPw: \"${p:ucAdfAdminToken}\"\n    teamRegex: \"^ABC .*\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Synchronize Group Members","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267808-27e4-f215-8928-4095e3e761f7","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"UCADF-Resync All Application Processes from Assembly","description":"UCADF-Resync All Application Processes from the application assembly","rootActivity":{"edges":[{"to":"043aee30762ac5e07d8171a8f7da33","from":"Resync All Application Processes","type":"SUCCESS","value":""},{"to":"a358a6ddbbb329623094f78611e228","type":"ALWAYS","value":""},{"to":"Resync All Application Processes","from":"a358a6ddbbb329623094f78611e228","type":"SUCCESS","value":""}],"offsets":[{"name":"043aee30762ac5e07d8171a8f7da33","x":-5,"y":570,"h":90,"w":140},{"name":"Resync All Application Processes","x":-145,"y":380,"h":90,"w":420},{"name":"a358a6ddbbb329623094f78611e228","x":-50,"y":190,"h":90,"w":230}],"layoutMode":"auto","type":"graph","name":"ebaa235a-d61d-4af0-bbc4-700ae5bccbef","children":[{"type":"finish","name":"043aee30762ac5e07d8171a8f7da33","children":[]},{"lockName":"Manage ABC","type":"acquireLock","name":"a358a6ddbbb329623094f78611e228","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfRunActionsFromFile\n    propertyValues:\n      ucdUserId: \"\"\n      ucdUserPw: \"${p:ucAdfAdminToken}\"\n    fileName: \"AbcSyncAppAssemblyProcesses.yml\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Resync All Application Processes","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"components/17267807-75d1-ee5d-c52f-cceb6977730f/processes/17267808-3137-9ea3-e665-4364147b6aa2","inventoryActionType":null,"configActionType":null,"deleted":false}],"genericProcesses":[],"created":1590874371906,"componentType":"STANDARD","ignoreQualifiers":0,"importAutomatically":false,"useVfs":false,"active":true,"deleted":false,"defaultVersionType":"FULL","cleanupDaysToKeep":0,"cleanupCountToKeep":0,"sourceConfigPluginName":null,"envPropDefs":[],"resPropDefs":[],"versionPropDefs":[],"propSheetGroup":{"propSheets":[{"name":"template","properties":[]},{"name":"custom","properties":[]}]},"configTemplates":[],"componentTemplate":{"name":"ABC-Template","description":"ABC UCADF Template.","teamMappings":[{"teamId":"1726514c-f44a-97fc-5f2f-2aa9d7f8c931","teamLabel":"ABC","resourceTypeId":"20000000000000000000000000000102","resourceTypeName":"Component Template","resourceRoleId":null,"resourceRoleLabel":null}],"path":"componentTemplates/17267806-eb7c-652f-9394-1ee829d78f57","componentType":"STANDARD","ignoreQualifiers":0,"active":true,"tags":[],"propDefs":[],"envPropDefs":[],"resPropDefs":[],"properties":[{"id":null,"name":"abcActivateFakeFail","description":"","value":"false","secure":false,"inherited":false,"index":null},{"id":null,"name":"abcActivateFakeRun","description":"","value":"true","secure":false,"inherited":false,"index":null},{"id":null,"name":"abcChangeControlFakeRun","description":"","value":"true","secure":false,"inherited":false,"index":null},{"id":null,"name":"abcChangeFakeRun","description":"","value":"true","secure":false,"inherited":false,"index":null},{"id":null,"name":"abcDeployFakeFail","description":"","value":"false","secure":false,"inherited":false,"index":null},{"id":null,"name":"abcDeployFakeRun","description":"","value":"true","secure":false,"inherited":false,"index":null},{"id":null,"name":"abcDockerStagingRegistry","description":"","value":null,"secure":false,"inherited":false,"index":null},{"id":null,"name":"abcDockerStagingRegistryROUserId","description":"","value":null,"secure":false,"inherited":false,"index":null},{"id":null,"name":"abcDockerStagingRegistryROUserPw","description":"","value":"crypt_v1{AES/CBC/PKCS5Padding|aes128keyw5o3|NgykSSN/GJvvK8mvBTVNnw==|P0tyeragasMfMhSsj//M9Q==}","secure":true,"inherited":false,"index":null},{"id":null,"name":"abcMaxUCProcessCacheSize","description":"","value":"1000000000","secure":false,"inherited":false,"index":null},{"id":null,"name":"abcOrchestrationToken","description":"","value":"crypt_v1{AES/CBC/PKCS5Padding|aes128keyw5o3|C9Ob5iUg+U3N8dbDStRYPw==|wy1mdUTJi3BrGRBx1NpHNGV1xtw3C16dHNsT9A1NeKoV+k0RKFUGdSv3ShVu+U34}","secure":true,"inherited":false,"index":null},{"id":null,"name":"abcUcAdfCompVersions","description":"","value":"${p?:system/ABC-UCADF-CompVersions}","secure":false,"inherited":false,"index":null},{"id":null,"name":"ucAdfAdminToken","description":"","value":"crypt_v1{AES/CBC/PKCS5Padding|aes128keyw5o3|n8q/Erh3gxNwxGpi/1nXKw==|74q8hiZFphEJJnf8N6ErB2sA2OUsalcqzoPNGxEGSI6m/5yLDKZBvLVn9MBCVC4/}","secure":true,"inherited":false,"index":null},{"id":null,"name":"ucAdfEmailUserId","description":"","value":"crypt_v1{AES/CBC/PKCS5Padding|aes128keyw5o3|YzR6kvQliNDS6BEB47nbCw==|5Mpj+k6W8j0yW0NFjXSc4A==}","secure":true,"inherited":false,"index":null},{"id":null,"name":"ucAdfEmailUserPw","description":"","value":"crypt_v1{AES/CBC/PKCS5Padding|aes128keyw5o3|CxoxWoTZlZSjiPamjgLNQg==|MTiFCiUFI7zffK1HmBQtSw==}","secure":true,"inherited":false,"index":null}],"processes":[{"name":"Activate Component Version","description":"Activate a component version.","rootActivity":{"edges":[{"to":"Run Activate Action","type":"ALWAYS","value":""},{"to":"339f31d0f53365789af0c22f19d341","from":"Run Activate Action","type":"SUCCESS","value":""}],"offsets":[{"name":"339f31d0f53365789af0c22f19d341","x":-5,"y":450,"h":80,"w":120},{"name":"Run Activate Action","x":-80,"y":230,"h":70,"w":270}],"layoutMode":"auto","type":"graph","name":"8168308a-e8f6-4d49-a01a-966795529979","children":[{"type":"finish","name":"339f31d0f53365789af0c22f19d341","children":[]},{"componentProcessName":"Run Provider Action","componentTemplateName":"ABC-Template","allowFailure":false,"properties":{"abcActionFakeFail":"${p:abcActivateFakeFail}","abcActionFakeRun":"${p:abcActivateFakeRun}","abcUtilAction":"Activate","abcPutCache":"false","abcGetCache":"true"},"type":"componentProcess","name":"Run Activate Action","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":true,"status":"Active","active":true,"path":"componentTemplates/17267806-eb7c-652f-9394-1ee829d78f57/processes/17267806-f982-f39b-679e-f6a67117b385","inventoryActionType":"ADD","configActionType":"ADD","deleted":false},{"name":"Add Component Version to Environment Inventory","description":"Add a component version to the environment inventory.","rootActivity":{"edges":[{"to":"5e4920c78e08cac84fb94bf6f11fd5","type":"ALWAYS","value":""}],"offsets":[{"name":"5e4920c78e08cac84fb94bf6f11fd5","x":-5,"y":90,"h":50,"w":90}],"layoutMode":"unknown","type":"graph","name":"150ef6b3-4c2b-4082-91a7-6393b485552c","children":[{"type":"finish","name":"5e4920c78e08cac84fb94bf6f11fd5","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":true,"status":"Active","active":true,"path":"componentTemplates/17267806-eb7c-652f-9394-1ee829d78f57/processes/17267806-f9b2-08b6-048c-c0fc77b45fb4","inventoryActionType":"ADD","configActionType":"ADD","deleted":false},{"name":"Clean Temporary Artifacts","description":"Clean up temporary artifacts","rootActivity":{"edges":[{"to":"5e4920c78e08cac84fb94bf6f11fd5","from":"Clean Temporary Artifacts","type":"SUCCESS","value":""},{"to":"Clean Temporary Artifacts","type":"ALWAYS","value":""}],"offsets":[{"name":"Clean Temporary Artifacts","x":-75,"y":230,"h":70,"w":260},{"name":"5e4920c78e08cac84fb94bf6f11fd5","x":-5,"y":450,"h":80,"w":120}],"layoutMode":"auto","type":"graph","name":"8dc55061-347c-4c7c-b961-24e0910cfe5b","children":[{"type":"finish","name":"5e4920c78e08cac84fb94bf6f11fd5","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfCacheCleanProcessTemp\n    ucdUserId: \"\"\n    ucdUserPw: \"${p:abcOrchestrationToken}\"\n    dirName: \"${p:resource/work.dir}/ABCDeploy/${p:parentRequest.id}\"\n    component: \"${p:application.name}-UCProcessCache\"\n    currentRequestId: \"${p:parentRequest.id}\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Clean Temporary Artifacts","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/ABCDeploy/${p:request.id}","takesVersion":false,"status":"","active":true,"path":"componentTemplates/17267806-eb7c-652f-9394-1ee829d78f57/processes/17267806-f9e5-2c50-ff2d-fe15a24ecb6d","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Create UrbanCode Snapshot","description":"Create an UrbanCode snapshot composed of the desired versions.","rootActivity":{"edges":[{"to":"b19ae600b242633c560cf1f889719a","from":"Run UCADF Actions","type":"SUCCESS","value":""},{"to":"Run UCADF Actions","type":"ALWAYS","value":""}],"offsets":[{"name":"Run UCADF Actions","x":-100,"y":240,"h":80,"w":320},{"name":"b19ae600b242633c560cf1f889719a","x":-5,"y":470,"h":90,"w":130}],"layoutMode":"auto","type":"graph","name":"92ed50b9-9560-4b35-895b-f17aba05b082","children":[{"type":"finish","name":"b19ae600b242633c560cf1f889719a","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: AbcCreateAppSnapshot\n    ucdUserId: \"\"\n    ucdUserPw: \"${p:abcOrchestrationToken}\"\n    application: \"${p:application.name}\"\n    environment: \"${p?:environment.name}\"\n    snapshot: \"${p:abcSnapshotName}\"\n    versionsFrom: \"${p:abcVersionsFrom}\"\n    appProcessRequestId: \"${p:parentRequest.id}\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Run UCADF Actions","children":[]}]},"propDefs":[{"id":null,"name":"abcSnapshotName","description":"","label":"UC Snapshot Name","type":"TEXT","pattern":"","required":false,"placeholder":"","value":"","inherited":null,"index":null},{"id":null,"name":"abcVersionsFrom","description":"","label":"Use versions from","type":"SELECT","pattern":"","required":false,"placeholder":"","value":"","inherited":null,"index":null,"allowedValues":[{"label":"Environment","value":"Environment"},{"label":"Specified","value":"Specified"}]}],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"componentTemplates/17267806-eb7c-652f-9394-1ee829d78f57/processes/17267806-fa17-12e1-54e5-092a12ab9c0a","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Deploy Component Version","description":"Deploy a component version.","rootActivity":{"edges":[{"to":"Set Process Request Property-Retry Candidate","from":"Run ABC Deploy Action","type":"FAILURE","value":""},{"to":"d0fd8f5cd465ed50cccae8a9a9885b","from":"Set Process Request Property-Retry Candidate","type":"ALWAYS","value":""},{"to":"5e4920c78e08cac84fb94bf6f11fd5","from":"Run ABC Deploy Action","type":"SUCCESS","value":""},{"to":"5e4920c78e08cac84fb94bf6f11fd5","from":"d0fd8f5cd465ed50cccae8a9a9885b","type":"SUCCESS","value":""},{"to":"Run ABC Deploy Action","type":"ALWAYS","value":""}],"offsets":[{"name":"d0fd8f5cd465ed50cccae8a9a9885b","x":-179.76851851851853,"y":400,"h":60,"w":250},{"name":"Set Process Request Property-Retry Candidate","x":-313.51851851851853,"y":270,"h":80,"w":480},{"name":"5e4920c78e08cac84fb94bf6f11fd5","x":-42.26851851851853,"y":510,"h":90,"w":130},{"name":"Run ABC Deploy Action","x":-95,"y":140,"h":80,"w":310}],"layoutMode":"auto","type":"graph","name":"53a87c1f-8c46-4932-a6d6-01459150b199","children":[{"type":"finish","name":"5e4920c78e08cac84fb94bf6f11fd5","children":[]},{"status":"FAILURE","type":"setStatus","name":"d0fd8f5cd465ed50cccae8a9a9885b","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":7,"commandName":"Set Process Request Property","pluginName":"UrbanCode Deploy Processes","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"propertyName":"abcRetryCandidate","propertyValue":"true","secureValue":"crypt_v1{AES/CBC/PKCS5Padding|aes128keyw5o3|8twB0AbKLpxhqSpMNu1nqw==|FjqrZqEWDGcf7E34EJfzOw==}","processRequestId":"${p:parentRequest.id}"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Set Process Request Property-Retry Candidate","children":[]},{"componentProcessName":"Run Provider Action","componentTemplateName":"ABC-Template","allowFailure":false,"properties":{"abcActionFakeFail":"${p:abcDeployFakeFail}","abcActionFakeRun":"${p:abcDeployFakeRun}","abcUtilAction":"Deploy","abcPutCache":"true","abcGetCache":"false"},"type":"componentProcess","name":"Run ABC Deploy Action","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":true,"status":"","active":true,"path":"componentTemplates/17267806-eb7c-652f-9394-1ee829d78f57/processes/17267806-fa4c-64d3-c181-804d790877b0","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Determine Selected Version","description":"A process that does nothing but is used for determining selected versions.","rootActivity":{"edges":[{"to":"c42c8f3f04dcbdb0a329b4bac952fa","type":"ALWAYS","value":""}],"offsets":[{"name":"c42c8f3f04dcbdb0a329b4bac952fa","x":-5,"y":100,"h":50,"w":90}],"layoutMode":"unknown","type":"graph","name":"e62dd328-041f-4a4f-974e-376ef920b522","children":[{"type":"finish","name":"c42c8f3f04dcbdb0a329b4bac952fa","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":true,"status":"","active":true,"path":"componentTemplates/17267806-eb7c-652f-9394-1ee829d78f57/processes/17267806-fa7c-8176-1986-7a8933f224ca","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Download Component Files","description":"Download the component's files to the target.","rootActivity":{"edges":[{"to":"Deployment Type Switch","type":"ALWAYS","value":""},{"to":"ac593e80969054e94e32c8c719341d","from":"Download Artifacts","type":"FAILURE","value":""},{"to":"d2b38d5f294d606412f4532ec54ccd","from":"Deployment Type Switch","type":"VALUE","value":""},{"to":"d2b38d5f294d606412f4532ec54ccd","from":"Download Artifacts","type":"SUCCESS","value":""},{"to":"Create UCProcess.props File","from":"Deployment Type Switch","type":"VALUE","value":"Deploy"},{"to":"d2b38d5f294d606412f4532ec54ccd","from":"ac593e80969054e94e32c8c719341d","type":"ALWAYS","value":""},{"to":"Download Artifacts","from":"Create UCProcess.props File","type":"SUCCESS","value":""}],"offsets":[{"name":"Create UCProcess.props File","x":-201.64609053497938,"y":270,"h":80,"w":330},{"name":"Download Artifacts","x":-219.42386831275718,"y":400,"h":80,"w":300},{"name":"Deployment Type Switch","x":-90,"y":140,"h":80,"w":300},{"name":"ac593e80969054e94e32c8c719341d","x":-133.31275720164604,"y":530,"h":60,"w":250},{"name":"d2b38d5f294d606412f4532ec54ccd","x":-73.31275720164604,"y":640,"h":90,"w":130}],"layoutMode":"auto","type":"graph","name":"09522e44-58c5-4c24-a96d-c4e5c5039c4e","children":[{"type":"finish","name":"d2b38d5f294d606412f4532ec54ccd","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":31,"commandName":"Download Artifacts","pluginName":"UrbanCode Deploy Versioned File Storage","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"directoryOffset":".","artifactSetBaseDir":"","fileIncludePatterns":"**/*","fileExcludePatterns":"","syncMode":"false","fullVerification":"true","setFileExecuteBits":"false","verifyFileIntegrity":"false","versionId":"${p:version.id}","serverUrl":"${p:server.url}","compId":"${p:component.id}","resId":"${p:resource.id}","charset":"","label":""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Download Artifacts","children":[]},{"status":"FAILURE","type":"setStatus","name":"ac593e80969054e94e32c8c719341d","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":10,"commandName":"Run Groovy Script","pluginName":"Groovy","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"groovyHome":"${GROOVY_HOME}","scriptBody":"String propFileName = \"UCProcess.props\"\nString propStr = \"${p:application/allProperties},${p:component/allProperties},${p:environment/allProperties},${p:resource/allProperties}\"\n\n// Parse the properties\nString propertiesFormat = propStr.replaceAll(\",\", \"\\n\")\nProperties properties = new Properties()\nproperties.load(new StringReader(propertiesFormat))\n\nprintln \"Creating file $propFileName\"\nnew File(propFileName).withWriter { out ->\n\tproperties.each { key, value ->\n\t\t// Extra safety to filter out password and token values\n\t\tif (!(key ==~ /(i?)^ucadf.*(Password|Pw|Token).*/)) {\n\t\t\tout.println \"$key=\\\"$value\\\"\"\n\t\t}\n\t}\n}\n\nprintln \"DONE\"\n"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Create UCProcess.props File","children":[]},{"propertyName":"abcDeployType","type":"switch","name":"Deployment Type Switch","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/ABCDeploy/${p:parentRequest.id}/${component.name}","takesVersion":true,"status":"","active":true,"path":"componentTemplates/17267806-eb7c-652f-9394-1ee829d78f57/processes/17267806-faaf-af2b-1a7c-39110db9ed42","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Remove Component Version from Environment Inventory","description":"Remove a component version from environment inventory","rootActivity":{"edges":[{"to":"e8471c3abacf6dd72db1afacc7e551","type":"ALWAYS","value":""}],"offsets":[{"name":"e8471c3abacf6dd72db1afacc7e551","x":-5,"y":90,"h":50,"w":90}],"layoutMode":"unknown","type":"graph","name":"59fbf821-00ed-4f51-a044-de9b5e6ae8e6","children":[{"type":"finish","name":"e8471c3abacf6dd72db1afacc7e551","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":true,"status":"Active","active":true,"path":"componentTemplates/17267806-eb7c-652f-9394-1ee829d78f57/processes/17267806-fad3-38bc-3f0c-3e7f6767e14a","inventoryActionType":"REMOVE","configActionType":null,"deleted":false},{"name":"Run Provider Action","description":"Run an action using the action provider.","rootActivity":{"edges":[{"to":"1375fc82dc13eaccea8c843ca3b513","from":"Initialize","type":"SUCCESS","value":""},{"to":"d3e35566832e9733ae6146f9cea8b7","from":"Put Cache Component Version","type":"FAILURE","value":""},{"to":"0b6cf041e9077c93cbdc0982b95c29","from":"Delete Request Working Directory","type":"SUCCESS","value":""},{"to":"d3e35566832e9733ae6146f9cea8b7","from":"Get Deployment Target Information","type":"FAILURE","value":""},{"to":"End Action","from":"Switch-Put Cache","type":"VALUE","value":""},{"to":"Put Cache Component Version","from":"Switch-Put Cache","type":"VALUE","value":"true"},{"to":"Run Provider Utility Action","from":"Get Cache Component Version","type":"SUCCESS","value":""},{"to":"Run Provider Utility Action","from":"Switch-Get Cache","type":"VALUE","value":""},{"to":"End Action","from":"Put Cache Component Version","type":"SUCCESS","value":""},{"to":"d3e35566832e9733ae6146f9cea8b7","from":"Download Artifacts","type":"FAILURE","value":""},{"to":"Delete Request Working Directory","from":"End Action","type":"SUCCESS","value":""},{"to":"5e4920c78e08cac84fb94bf6f11fd5","from":"0b6cf041e9077c93cbdc0982b95c29","type":"ALWAYS","value":""},{"to":"Switch-Put Cache","from":"Run Provider Utility Action","type":"SUCCESS","value":""},{"to":"d3e35566832e9733ae6146f9cea8b7","from":"Replace Tokens","type":"FAILURE","value":""},{"to":"d3e35566832e9733ae6146f9cea8b7","from":"Get Cache Component Version","type":"FAILURE","value":""},{"to":"Get Deployment Target Information","from":"Replace Tokens","type":"SUCCESS","value":""},{"to":"Replace Tokens","from":"Download Artifacts","type":"SUCCESS","value":""},{"to":"End Action","from":"d3e35566832e9733ae6146f9cea8b7","type":"ALWAYS","value":""},{"to":"Get Cache Component Version","from":"Switch-Get Cache","type":"VALUE","value":"true"},{"to":"Switch-Get Cache","from":"Create UCProcess.props File","type":"SUCCESS","value":""},{"to":"d3e35566832e9733ae6146f9cea8b7","from":"Create UCProcess.props File","type":"FAILURE","value":""},{"to":"Create UCProcess.props File","from":"Get Deployment Target Information","type":"SUCCESS","value":""},{"to":"d3e35566832e9733ae6146f9cea8b7","from":"Run Provider Utility Action","type":"FAILURE","value":""},{"to":"Initialize","type":"ALWAYS","value":""},{"to":"Download Artifacts","from":"1375fc82dc13eaccea8c843ca3b513","type":"SUCCESS","value":""}],"offsets":[{"name":"Create UCProcess.props File","x":95.06437933585187,"y":1010,"h":120,"w":570},{"name":"Get Cache Component Version","x":80.06437933585187,"y":1350,"h":120,"w":600},{"name":"Download Artifacts","x":-179.2970183865258,"y":500,"h":120,"w":510},{"name":"Put Cache Component Version","x":115.06437933585187,"y":1860,"h":120,"w":590},{"name":"Run Provider Utility Action","x":217.7446214269013,"y":1520,"h":120,"w":520},{"name":"Replace Tokens","x":-26.43418313340385,"y":670,"h":120,"w":460},{"name":"Delete Request Working Directory","x":80.54442083975812,"y":2330,"h":120,"w":650},{"name":"Initialize","x":-170,"y":160,"h":120,"w":500},{"name":"Switch-Put Cache","x":315.35276668153085,"y":1690,"h":120,"w":450},{"name":"Switch-Get Cache","x":260.06437933585187,"y":1180,"h":120,"w":460},{"name":"1375fc82dc13eaccea8c843ca3b513","x":-156.43233946217526,"y":330,"h":120,"w":470},{"name":"5e4920c78e08cac84fb94bf6f11fd5","x":313.746782900305,"y":2670,"h":110,"w":180},{"name":"Get Deployment Target Information","x":-129.93562066414813,"y":840,"h":120,"w":990},{"name":"0b6cf041e9077c93cbdc0982b95c29","x":168.746782900305,"y":2500,"h":120,"w":470},{"name":"d3e35566832e9733ae6146f9cea8b7","x":-121.92620599129657,"y":2030,"h":80,"w":390},{"name":"End Action","x":139.13969671866437,"y":2160,"h":120,"w":540}],"layoutMode":"auto","type":"graph","name":"3261e9e3-97fb-4680-b202-83b9ef4de441","children":[{"type":"finish","name":"5e4920c78e08cac84fb94bf6f11fd5","children":[]},{"status":"FAILURE","type":"setStatus","name":"d3e35566832e9733ae6146f9cea8b7","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":9,"commandName":"Shell","pluginName":"Shell","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"directoryOffset":".","shellInterpreter":"","scriptBody":"# This script runs on the UrbanCode generic agent with the agent account having a sudo Docker rule.\nset -eux -o pipefail\n\n# Log out of all registries.\nlogout()\n{\n\tset +e\n\n\techo \"Logging out of the registry.\"\n\t${fakeRunEcho}$DOCKER_CMD logout ${DOCKER_STAGING_REGISTRY}\n\n\tset -e\n}\n\n# Clean up files.\ncleanup()\n{\n\tset +e\n\n\techo \"Cleaning up files.\"\n\trm -f UCProcess.props\n\n\tset -e\n}\n\n# Set up error trapping to clean up files.\ntrap cleanup 0 1 2 3 6 15\n \nfakeRun=${p:abcActionFakeRun}\nfakeFail=${p:abcActionFakeFail}\n\nif [ \"$fakeFail\" == \"true\" ]\nthen\n\techo \"Is Fake Failure\"\n\texit 1\nfi\n\nfakeRunEcho=\nif [ \"$fakeRun\" == \"true\" ]\nthen\n\techo \"Is Fake Run\"\n\tfakeRunEcho=\"echo \"\nfi\n\nPROCESSDIR=`pwd`\nDOCKER_WORKDIR=/opt/ucdagent/var/work\n\nDOCKER_STAGING_REGISTRY='${p:abcDockerStagingRegistry}'\nDOCKER_STAGING_REGISTRY_USERID='${p:abcDockerStagingRegistryROUserId}'\nDOCKER_STAGING_REGISTRY_USERPW='${p:abcDockerStagingRegistryROUserPw}'\nDOCKER_IMAGE=\"${p:Create UCProcess.props File/abcUtilImageName}\"\nDOCKER_CMD=\"sudo -n /usr/bin/docker\"\n\necho \"Pulling the Provider Docker image [$DOCKER_IMAGE].\"\nset +e\nif [ \"$fakeRun\" == \"true\" ]\nthen\n    echo \"Fake run doesn't pull the docker image.\"\nelse\n\t# Set up error trapping to logout.\n\ttrap logout 0 1 2 3 6 15\n\n\techo \"Logging into the staging registry.\"\n\techo \"${DOCKER_STAGING_REGISTRY_USERPW}\" | ${fakeRunEcho}$DOCKER_CMD login \"${DOCKER_STAGING_REGISTRY}\" --username \"${DOCKER_STAGING_REGISTRY_USERID}\" --password-stdin\n\t\n    echo \"Pulling Docker image ${DOCKER_IMAGE}.\"\n\t${fakeRunEcho}$DOCKER_CMD pull \"${DOCKER_IMAGE}\"\nfi\n\nset -e\n\necho\necho \"--- Contents of the Temporary Directory $PROCESSDIR Before Processing ---\"\nls -laR \"$PROCESSDIR\"\n\necho\necho \"--- Running the Provider Action ---\"\n${fakeRunEcho}$DOCKER_CMD run --rm --privileged --network host --user $(id -u):$(id -g) -v /opt/cst:/etc/ssl/certs -v \"$PROCESSDIR\":\"$DOCKER_WORKDIR\" \"$DOCKER_IMAGE\"\n\necho \"--- Echo the Deployment ID ---\"\nif [ \"$fakeRun\" == \"true\" ]\nthen\n    mkdir -p UCProcess.cache/test\n    touch UCProcess.cache/test/file.txt\nfi\n\necho \"--- Contents of the Temporary Directory $PROCESSDIR After Processing ---\"\nls -laR \"$PROCESSDIR\"\n\necho \"DONE\"\n","runAsDaemon":"false","outputFile":""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Run Provider Utility Action","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":10,"commandName":"Run Groovy Script","pluginName":"Groovy","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"groovyHome":"${GROOVY_HOME}","scriptBody":"String resPath=\"${p:resource.path}\"\n\nList<String> resPathSegments = resPath.split(\"/\")\nString envType = resPathSegments[3]\nString provider = resPathSegments[4]\nString suite = resPathSegments[5]\nString instance = resPathSegments[6]\n\nprintln \"envType=[$envType] provider=[$provider] suite=[$suite] instance=[$instance]\"\n\n// Resource path of configuration information resource.\nString targetInfoResPath = \"/ABC/Management/Lists/Instances/$envType/$provider/$suite/$instance\"\nprintln \"targetInfoResPath=$targetInfoResPath\"\n\n// Resource path of component resource.\nString compResPath = \"/ABC/Instances/$envType/$provider/$suite/$instance/${p:application.name}/${p:component.name}\"\nprintln \"compResPath=$compResPath\"\n\noutProps.put(\"abcEnvType\", envType)\noutProps.put(\"abcProvider\", provider)\noutProps.put(\"abcSuite\", suite)\noutProps.put(\"abcInstance\", instance)\noutProps.put(\"abcTargetInfoResPath\", targetInfoResPath)\noutProps.put(\"abcCompResPath\", compResPath)\n"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Initialize","children":[]},{"lockName":"${p:abcConnection}-${p:Initialize/abcSuite}-${p:Initialize/abcInstance}-${p:component.name}","type":"acquireLock","name":"1375fc82dc13eaccea8c843ca3b513","children":[]},{"lockName":"${p:abcConnection}-${p:Initialize/abcSuite}-${p:Initialize/abcInstance}-${p:component.name}","type":"releaseLock","name":"0b6cf041e9077c93cbdc0982b95c29","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":10,"commandName":"Run Groovy Script","pluginName":"Groovy","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"groovyHome":"${GROOVY_HOME}","scriptBody":"String propsFileName = \"UCProcess.props\"\n\nString targetPropsStr = \"\"\"${p?:abcTargetProps}\"\"\"\nString adHocPropsStr = \"\"\"${p:application/allProperties},${p:component/allProperties},${p:environment/allProperties},${p:resource/allProperties},${p:version/allProperties}\"\"\"\n\n// Remove the UrbanCode application prefix from the component name.\nString appName = '${p:application.name}'\nString compName = '${p:component.name}'\nString baseCompName = compName.replaceAll(/^${appName}-(.*)/, '$1')\nString utilImageName = \"\"\n\n// Required properties.\nMap<String, String> requiredProps = [\n\tabcUtilAction:'${p:abcUtilAction}',\n\tabcSuite:'${p:Initialize/abcSuite}',\n\tabcInstance:'${p:Initialize/abcInstance}',\n\tabcAppName:appName,\n\tabcCompName:compName,\n\tabcBaseCompName:baseCompName,\n\tabcComponentVersion:'${p:version.name}'\n]\n\n// Parse the properties.\nprintln \"Parsing the target properties.\"\ntargetPropsStr = targetPropsStr.replaceAll(\"\\n\", \" \").replaceAll(\",\", \"\\n\")\nProperties targetProps = new Properties()\ntargetProps.load(new StringReader(targetPropsStr))\n\nprintln \"Parsing the ad-hoc properties.\"\nadHocPropsStr = adHocPropsStr.replaceAll(\"\\n\", \" \").replaceAll(\",\", \"\\n\")\nProperties adHocProps = new Properties()\nadHocProps.load(new StringReader(adHocPropsStr))\n\nprintln \"Creating file $propsFileName.\"\nnew File(propsFileName).withWriter { out ->\n\t// Output the required properties.\n\trequiredProps.each { key, value ->\n\t\tvalue = value.replaceAll(/'/, \"\\\\\\\\'\")\n\t\tout.println \"$key='$value'\"\n\t}\n\n\t// Output the target properties. Don't display this because there might be secure properties in the string.\n\ttargetProps.each { key, value ->\n\t\tif (!requiredProps.containsKey(key)) {\n\t\t\tvalue = value.replaceAll(/'/, \"\\\\\\\\'\")\n\t\t\tprintln \"$key='***'\"\n\t\t\tout.println \"$key='$value'\"\n\t\t\t\n\t\t\tif (\"abcUtilImageName\".equals(key)) {\n\t\t\t    utilImageName = value\n\t\t\t}\n\t\t}\n\t}\n\n\t// Output the other properties.\t\n\tadHocProps.each { key, value ->\n\t\t// Extra safety to filter out password and token values.\n\t\t// Alfo filter out any usage of the required properties.\n\t\tif (!requiredProps.containsKey(key) && !targetProps.containsKey(key) && !(key ==~ /(i?)^abc.*(Password|Key|UserId|Pw|Token|ABCManagement|ABCChangeControls).*/)) {\n\t\t\tvalue = value.replaceAll(/'/, \"\\\\\\\\'\")\n\t\t\tprintln \"$key=\\'$value\\'\"\n\t\t\tout.println \"$key='$value'\"\n\t\t}\n\t}\n}\n\nif (!utilImageName) {\n    println \"\\nERROR: No value found for abcUtilImageName.\"\n    System.exit(0)\n}\n\noutProps.put(\"abcUtilImageName\", utilImageName)\n\nprintln \"DONE\"\n"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Create UCProcess.props File","children":[]},{"processName":"ABC Get Deployment Target Information","resourcePath":"${p:Initialize/abcTargetInfoResPath}","properties":{"abcUcAdfHelperDirectory":"${p:abcUcAdfHelperDirectory}","abcCompRequestId":"${p:request.id}","processId":"1645582e-5c1f-4fde-0310-6e6dd174257d","resourcePath":"${p:Initialize/abcTargetInfoResPath}"},"type":"runProcess","name":"Get Deployment Target Information","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":31,"commandName":"Download Artifacts","pluginName":"UrbanCode Deploy Versioned File Storage","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"directoryOffset":".","artifactSetBaseDir":"","fileIncludePatterns":"**/*","fileExcludePatterns":"","syncMode":"false","fullVerification":"true","setFileExecuteBits":"true","verifyFileIntegrity":"false","versionId":"${p:version.id}","serverUrl":"${p:server.url}","compId":"${p:component.id}","resId":"${p:resource.id}","charset":"","label":""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Download Artifacts","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":70,"commandName":"Replace Tokens","pluginName":"File Utils","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"includes":"${p:resource/work.dir}/ABCDeploy/${p:parentRequest.id}/${p:component.name}/**/*","excludes":"","envPropValues":"${p:application/allProperties},${p:component/allProperties},${p:environment/allProperties},${p:resource/allProperties}","propertyPrefix":"","explicitTokens":"@abcOrchestrationToken@->\"***\"\n@ucAdfAdminToken@->\"***\"\n@abcDockerStagingRegistryROUserId@->\"***\"\n@abcDockerStagingRegistryROUserPw@->\"***\"\n@abcChangeWsUserId@->\"***\"\n@abcChangeWsUserPw@->\"***\"\n@abcChangeApiUserId@->\"***\"\n@abcChangeApiUserPw@->\"***\"\n@abcChangeApiKey@->\"***\"\n@ucAdfEmailUserId@->\"***\"\n@ucAdfEmailUserPw@->\"***\"","startDelimiter":"@","endDelimiter":"@","propFile":"replace_tokens.properties","dir":"","customEncoding":""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Replace Tokens","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":70,"commandName":"Delete Files and Directories","pluginName":"File Utils","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"baseDir":"${p:resource/work.dir}/ABCDeploy","includes":"${p:request.id}/**","excludes":"","followSymlinks":"false","caseSensitive":"true"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Delete Request Working Directory","children":[]},{"propertyName":"abcGetCache","type":"switch","name":"Switch-Get Cache","children":[]},{"propertyName":"abcPutCache","type":"switch","name":"Switch-Put Cache","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfGetCacheComponentVersion\n    ucdUserId: \"\"\n    ucdUserPw: \"${p:abcOrchestrationToken}\"\n    cacheCompName: \"${p:application.name}-UCProcessCache\"\n    cacheVersionName: \"${p:parentRequest.id}-${p:component.name}\"\n    cacheDir: \"UCProcess.cache\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Get Cache Component Version","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfPutCacheComponentVersion\n    ucdUserId: \"\"\n    ucdUserPw: \"${p:abcOrchestrationToken}\"\n    cacheCompName: \"${p:application.name}-UCProcessCache\"\n    cacheVersionName: \"${p:parentRequest.id}-${p:component.name}\"\n    cacheDir: \"UCProcess.cache\"\n    cacheMaxSize: \"${p:abcMaxUCProcessCacheSize}\"\n    processRequestId: \"${p:parentRequest.id}\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Put Cache Component Version","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: UcAdfCleanProcessTemp\n    ucdUserId: \"\"\n    ucdUserPw: \"${p:abcOrchestrationToken}\"\n    dirName: \"${p:resource/work.dir}/ABCDeploy\"\n    currentRequestId: \"${p:parentRequest.id}\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"End Action","children":[]}]},"propDefs":[{"id":null,"name":"abcActionFakeRun","description":"","label":"abcActionFakeRun","type":"TEXT","pattern":"","required":true,"placeholder":"","value":"","inherited":null,"index":null},{"id":null,"name":"abcActionFakeFail","description":"","label":"abcActionFakeFail","type":"TEXT","pattern":"","required":true,"placeholder":"","value":"","inherited":null,"index":null},{"id":null,"name":"abcUtilAction","description":"","label":"abcUtilAction","type":"TEXT","pattern":"","required":false,"placeholder":"","value":"","inherited":null,"index":null},{"id":null,"name":"abcGetCache","description":"","label":"abcGetCache","type":"TEXT","pattern":"","required":false,"placeholder":"","value":"true","inherited":null,"index":null},{"id":null,"name":"abcPutCache","description":"","label":"abcPutCache","type":"TEXT","pattern":"","required":false,"placeholder":"","value":"true","inherited":null,"index":null}],"defaultWorkingDir":"${p:resource/work.dir}/ABCDeploy/${p:request.id}","takesVersion":true,"status":"","active":true,"path":"componentTemplates/17267806-eb7c-652f-9394-1ee829d78f57/processes/17267806-fb01-12be-a65f-30ed6bd5a208","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Run UCProcess Script","description":"Run the component's UCProcess script.","rootActivity":{"edges":[{"to":"Get ABC Cluster Application Resource Path","from":"Download Artifacts-UCProcessWrapper.sh","type":"SUCCESS","value":""},{"to":"Invoke UCProcess.sh Script","from":"f4e16c935d81265033943be81a41b6","type":"SUCCESS","value":""},{"to":"f4e16c935d81265033943be81a41b6","from":"Get Resource Property-abcAppId","type":"SUCCESS","value":""},{"to":"Get Resource Property-abcAppId","from":"Get ABC Cluster Application Resource Path","type":"SUCCESS","value":""},{"to":"2ea971cb47338ed9992e5e613ab571","from":"Invoke UCProcess.sh Script","type":"SUCCESS","value":""},{"to":"Download Artifacts-UCProcessWrapper.sh","type":"ALWAYS","value":""},{"to":"d2b38d5f294d606412f4532ec54ccd","from":"2ea971cb47338ed9992e5e613ab571","type":"SUCCESS","value":""}],"offsets":[{"name":"Get Resource Property-abcAppId","x":-205,"y":440,"h":100,"w":550},{"name":"Invoke UCProcess.sh Script","x":-140,"y":740,"h":100,"w":420},{"name":"2ea971cb47338ed9992e5e613ab571","x":-75,"y":890,"h":100,"w":290},{"name":"d2b38d5f294d606412f4532ec54ccd","x":-5,"y":1040,"h":90,"w":150},{"name":"Get ABC Cluster Application Resource Path","x":-250,"y":290,"h":100,"w":640},{"name":"f4e16c935d81265033943be81a41b6","x":-75,"y":590,"h":100,"w":290},{"name":"Download Artifacts-UCProcessWrapper.sh","x":-225,"y":140,"h":100,"w":590}],"layoutMode":"auto","type":"graph","name":"121644d9-b968-4617-9888-502771506783","children":[{"type":"finish","name":"d2b38d5f294d606412f4532ec54ccd","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":9,"commandName":"Shell","pluginName":"Shell","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"directoryOffset":".","shellInterpreter":"","scriptBody":"set -e\n\n# Properties from UC process\nAPPID=\"${p:Get Resource Property-abcAppId/abcAppId}\"\nWRAPPERNAME=UCProcessWrapper.sh\nWRAPPERSCRIPT=\"${p:resource/system/work.dir}/ABCDeploy/$WRAPPERNAME\"\nREQUESTDIR=\"${p:resource/work.dir}/ABCDeploy/${p:parentRequest.id}\"\n\nuname -a\npwd\n\nfakeRun=${p:abcManagementFakeRun}\nfakeRunEcho=\nif [ \"$fakeRun\" == \"true\" ]\nthen\n\techo \"Is Fake Run\"\n\tfakeRunEcho=\"echo \"\nfi\n\necho \"Request Directory=$REQUESTDIR\"\nif [ ! -f UCProcess.props ]\nthen\n\techo \"ERROR: UCProcess.props file is missing.\"\n\texit 1\nfi\n\nif [ -f UCProcess.sh ]\nthen\n\tif [ \"$APPID\" == \"\" ]\n\tthen\n\t\techo \"--- Running UCProcess.sh Script as UCD Agent Account ---\"\n\t\t${fakeRunEcho}sh UCProcess.sh Deploy\n\telse\n\t\t# Opening up permissions on the downloaded files so that the sudo'd UCProcess.sh script will be able to read them.\n\t\techo\n\t\techo \"--- Changing file permissions $REQUESTDIR ---\"\n\t\tchmod -R o+rX \"$REQUESTDIR\"\n\t\tls -laR \"$REQUESTDIR\"\n\t\t\t\t\n\t\tchmod 755 \"$WRAPPERSCRIPT\"\n\n\t\t# Get the script return code but don't fail if the script fails\n\t\tset +e\n\t\techo\n\t\techo \"--- Showing the current agent account that will run the sudo command ---\"\n\t\tid\n\t\techo\n\t\techo \"--- Showing the sudo command that will be run ---\"\n\t\techo \"sudo -u $APPID $WRAPPERSCRIPT\"\n\n\t\techo\n\t\techo \"--- Showing the sudo rules set up for the agent account to run $WRAPPERNAME as application account [$APPID] ---\"\n\t\tsudo -l | grep \"$WRAPPERNAME\" | grep \"$APPID\" 2>&1\n\n\t\techo\n\t\techo \"--- Running the sudo command ---\"\n\t\t${fakeRunEcho}sudo -u $APPID \"$WRAPPERSCRIPT\" 2>&1\n\t\tSCRIPTRETURN=$?\n\t\techo \"SCRIPTRETURN=$SCRIPTRETURN\"\n\t\tset -e\n\n\t\techo\n\t\techo \"--- Changing file permissions $REQUESTDIR ---\"\n\t\tchmod -R o-rX \"$REQUESTDIR\"\n\n\t\t# Now fail if the script call had failed\n\t\tif [ $SCRIPTRETURN -ne 0 ]\n\t\tthen\n\t\t\texit 1\n\t\tfi\n\tfi\nelse\n\techo\n\techo \"--- No UCProcess.sh Script Found to Run ---\"\nfi\n\necho \"DONE\"\n","runAsDaemon":"false","outputFile":""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Invoke UCProcess.sh Script","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":10,"commandName":"Run Groovy Script","pluginName":"Groovy","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"groovyHome":"${GROOVY_HOME}","scriptBody":"String clusterAppResPath = \"${p:resource.path}\".replaceAll(/^(.*?\\/.*?\\/.*?\\/.*?\\/.*?\\/.*?\\/.*?\\/).*$/, '$1' + \"RegisteredApplications/${p:application.name}\")\n\noutProps.put(\"abcClusterAppResPath\", clusterAppResPath)\n"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Get ABC Cluster Application Resource Path","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":75,"commandName":"Get Resource Property","pluginName":"UrbanCode Deploy Resources","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"resource":"${p:Get ABC Cluster Application Resource Path/abcClusterAppResPath}","name":"abcAppId"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Get Resource Property-abcAppId","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":true,"impersonationUseSudo":false,"workingDir":"${resource/system/work.dir}/ABCDeploy","pluginVersion":31,"commandName":"Download Artifacts","pluginName":"UrbanCode Deploy Versioned File Storage","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"directoryOffset":".","artifactSetBaseDir":"scripts","fileIncludePatterns":"UCProcessWrapper.sh","fileExcludePatterns":"","syncMode":"true","fullVerification":"false","setFileExecuteBits":"true","verifyFileIntegrity":"false","versionId":"${p:abcHelperVersionId}","serverUrl":"${p:server.url}","compId":"ABC-UCADF-Helper","resId":"${p:resource.id}","charset":"","label":""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Download Artifacts-UCProcessWrapper.sh","children":[]},{"lockName":"${p:agent.name}","type":"acquireLock","name":"f4e16c935d81265033943be81a41b6","children":[]},{"lockName":"${p:agent.name}","type":"releaseLock","name":"2ea971cb47338ed9992e5e613ab571","children":[]}]},"propDefs":[],"defaultWorkingDir":"${p:resource/work.dir}/ABCDeploy/${p:parentRequest.id}/${component.name}","takesVersion":true,"status":"","active":true,"path":"componentTemplates/17267806-eb7c-652f-9394-1ee829d78f57/processes/17267806-fb32-d77a-52a2-89e324bf430f","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Validate Deploy","description":"Validate the deployment information and initialize properties.","rootActivity":{"edges":[{"to":"Run UCADF Actions","type":"ALWAYS","value":""},{"to":"9c678968f9ea5d2339c846581d5054","from":"Run UCADF Actions","type":"SUCCESS","value":""}],"offsets":[{"name":"Run UCADF Actions","x":-80,"y":230,"h":70,"w":270},{"name":"9c678968f9ea5d2339c846581d5054","x":-5,"y":450,"h":80,"w":120}],"layoutMode":"auto","type":"graph","name":"b8629205-15e7-48ff-a847-eb8ec5ea4bcd","children":[{"type":"finish","name":"9c678968f9ea5d2339c846581d5054","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":62,"commandName":"Run UCADF Actions","pluginName":"UCADF Core","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"actionsText":"propertyFiles:\n  - fileName: \"${u:actionPackages/ABC-UCADF-Package/actionsDirectoryName}/AbcUcAdfActionProperties.yml\"\n\nactions:\n  - action: AbcValidateDeploy\n    ucdUserId: \"\"\n    ucdUserPw: \"${p:ucAdfAdminToken}\"\n    requestor: \"${p:request.user.name}\"\n    application: \"${p:application.name}\"\n    environment: \"${p:environment.name}\"\n    snapshot: \"${p?:snapshot.name}\"\n    changeId: \"${p?:abcChangeRecord}\"\n    compProcessRequestId: \"${p:request.id}\"\n    appProcessRequestId: \"${p:parentRequest.id}\"\n","packageVersions":"${p:ABC-UCADF-Package-Versions}","dlCommand":"udclient --verbose -weburl \"${AH_WEB_URL}\" -authtoken \"${DS_AUTH_TOKEN}\" downloadVersionArtifacts -component \"${ucAdfPackageName}\" -version \"${ucAdfPackageVersion}\""},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Run UCADF Actions","children":[]}]},"propDefs":[{"id":null,"name":"abcIsControlledEnvTypeProcess","description":"","label":"abcIsControlledEnvTypeProcess","type":"SELECT","pattern":"","required":true,"placeholder":"","value":"","inherited":null,"index":null,"allowedValues":[{"label":"true","value":"true"},{"label":"false","value":"false"}]}],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"componentTemplates/17267806-eb7c-652f-9394-1ee829d78f57/processes/17267806-fb6b-0871-58e5-92f24708e97b","inventoryActionType":null,"configActionType":null,"deleted":false},{"name":"Validate Environment Type","description":"Validates the process is being run on the correct environment type.","rootActivity":{"edges":[{"to":"Validate the Environment Type","type":"ALWAYS","value":""},{"to":"b95041563db474e2de12aecda67cc9","from":"Validate the Environment Type","type":"SUCCESS","value":""}],"offsets":[{"name":"b95041563db474e2de12aecda67cc9","x":-5,"y":450,"h":80,"w":120},{"name":"Validate the Environment Type","x":-90,"y":230,"h":70,"w":290}],"layoutMode":"auto","type":"graph","name":"fae8b5a5-0328-4657-a10a-122874ca1f8c","children":[{"type":"finish","name":"b95041563db474e2de12aecda67cc9","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":10,"commandName":"Run Groovy Script","pluginName":"Groovy","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"groovyHome":"${GROOVY_HOME}","scriptBody":"if (!(\"${p:environment.name}\" ==~ /.*${p:abcRequiredEnvType}$/)) {\n    println \"\\nERROR: This process must be run on an environment type with a suffix of ${p:abcRequiredEnvType}.\\n\"\n    System.exit(1)\n}"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Validate the Environment Type","children":[]}]},"propDefs":[{"id":null,"name":"abcRequiredEnvType","description":"","label":"abcRequiredEnvType","type":"TEXT","pattern":"","required":false,"placeholder":"","value":"","inherited":null,"index":null}],"defaultWorkingDir":"${p:resource/work.dir}/${p:component.name}","takesVersion":false,"status":"","active":true,"path":"componentTemplates/17267806-eb7c-652f-9394-1ee829d78f57/processes/17267806-fb90-d008-1825-682054400820","inventoryActionType":null,"configActionType":null,"deleted":false}],"genericProcesses":[{"name":"ABC Get Deployment Target Information","description":"","teamMappings":[{"teamId":"1726514c-f44a-97fc-5f2f-2aa9d7f8c931","teamLabel":"ABC","resourceTypeId":"20000000000000000000000000000109","resourceTypeName":"Process","resourceRoleId":null,"resourceRoleLabel":null}],"rootActivity":{"edges":[{"to":"Set Process Request Property","type":"ALWAYS","value":""},{"to":"86d4a0bc0135e520e01ab28f323476","from":"Set Process Request Property","type":"SUCCESS","value":""}],"offsets":[{"name":"Set Process Request Property","x":-105,"y":230,"h":70,"w":320},{"name":"86d4a0bc0135e520e01ab28f323476","x":-5,"y":450,"h":80,"w":120}],"layoutMode":"auto","type":"graph","name":"4bf8447c-9806-4af9-9c2e-fe98561f2c4a","children":[{"type":"finish","name":"86d4a0bc0135e520e01ab28f323476","children":[]},{"allowFailure":false,"useImpersonation":false,"showHidden":false,"impersonationUseSudo":false,"pluginVersion":7,"commandName":"Set Process Request Property","pluginName":"UrbanCode Deploy Processes","authTokenRestriction":"20000001-0001-0001-0001-000000000000","properties":{"propertyName":"abcTargetProps","propertyValue":"","secureValue":"crypt_v1{AES/CBC/PKCS5Padding|aes128keyw5o3|caDLBt98eLMdcLpr2tzWqw==|q6tXOm99HhutPeWZNsCSbQ==}","processRequestId":"${p:abcCompRequestId}"},"cachedAuthTokenRestriction":{"name":"System Default","description":"Used by default for any plugin steps without a specified token restriction","restrictions":[{"verb":"ALL","url":"/*"}]},"type":"plugin","name":"Set Process Request Property","children":[]}]},"propDefs":[{"id":null,"name":"abcCompRequestId","description":"","label":"abcCompRequestId","type":"TEXT","pattern":"","required":false,"placeholder":"","value":"","inherited":null,"index":null}],"properties":[{"id":null,"name":"contextType","description":"","value":"Resource","secure":false,"inherited":false,"index":null},{"id":null,"name":"workingDir","description":"","value":"${p:resource/work.dir}/${p:process.name}","secure":false,"inherited":false,"index":null}],"linkedProcesses":[]}],"securityResourceId":"17267806-eb4d-1855-57ac-25aee440ef12","sourceConfigPluginName":null},"tags":[],"genericProcessImports":{}}],"environments":[],"genericProcesses":[],"enforceCompleteSnapshots":false,"propSheet":{"id":null,"name":null,"path":null,"versionCount":null,"version":null,"commit":null,"versioned":null,"created":null,"enforceCompleteSnapshots":null,"active":null,"tags":null,"deleted":null,"user":null,"properties":[],"securityResourceId":null,"propSheetDef":null},"templatePropSheet":{"id":null,"name":"template","path":null,"versionCount":null,"version":null,"commit":null,"versioned":null,"created":null,"enforceCompleteSnapshots":null,"active":null,"tags":null,"deleted":null,"user":null,"properties":[],"securityResourceId":null,"propSheetDef":null},"statuses":[],"tags":[],"genericProcessImports":{},"allGenericProcessImports":{}}